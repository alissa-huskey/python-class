
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File I/O &#8212; Python Class</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e2363ea40746bee74734a24ffefccd78.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/asciinema-player.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/asciinema-player.js"></script>
    <script src="../_static/custom.js"></script>
    <script src="../_static/x-frame-bypass.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://alissa-huskey.github.io/python-class/lessons/file-io.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Paths" href="paths.html" />
    <link rel="prev" title="Files" href="files.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Python Class</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Lessons
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="fundamentals.html">
   Fundamentals
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="syntax.html">
     Syntax
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="expressions.html">
       Expressions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="statements.html">
       Statements
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="variables.html">
       Variables
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="flow-control.html">
     Flow Control
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="conditional-statements.html">
       Conditional Statements
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="functions.html">
       Functions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="while-loops.html">
       While loops
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="for-loops.html">
       For Loops
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="flow.html">
       Program Flow
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="reading-code.html">
       Reading Code
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="data-types/index.html">
     Data Types
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="data-types/objects.html">
       Objects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="data-types/numeric.html">
       Numeric Types
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="data-types/containers.html">
       Containers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="data-types/lists.html">
         Lists
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="data-types/dictionaries.html">
         Dictionaries
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="files.html">
     Files
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       File I/O
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="paths.html">
       Paths
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="file-system-operations.html">
       File System Operations
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="in-depth/index.html">
   In Depth
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="cli.html">
     CLI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="in-depth/imports.html">
     Imports
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="in-depth/structure.html">
     Structuring Python Projects
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="misc.html">
   Misc
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="web-apis.html">
     Web APIs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="battle.html">
     PyPet Battle
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="game-book.html">
   Invent Games Book
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="03_guess_the_number.html">
     Chapter 3: Guess the Number
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05_dragon_realm.html">
     Chapter 5: Dragon Realm
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Practices
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../practices/problem-solving.html">
   Problem Solving
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../practices/testing.html">
   Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../practices/debugging.html">
   Using a Debugger
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../practices/data-inspection.html">
   Data Inspection
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tools
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/terminal.html">
   Terminal
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/git.html">
   Git
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/vscode.html">
   VS Code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/python-shell.html">
   Python Shell
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/ipython.html">
   IPython
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/poetry.html">
   Poetry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/mac.html">
   Mac Dev Env for Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/replit.html">
   Repl.it Tips
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/screencasts.html">
   Screencasts
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/recommended.html">
   Recommended Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/dicts.html">
   Dictionaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/lists.html">
   Lists
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/alissa-huskey/python-class/blob/master/pythonclass/template.py">
   Script Template
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Exercises
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/program-flow.html">
   Program Flow Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/list-exercises.html">
   List Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/list-string-exercises.html">
   List String Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/flashcards.html">
   Flashcards Project
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Admin
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../orphans.html">
   Orphaned Terms
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/alissa-huskey/python-class"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        <a class="edit-button" href="https://github.com/alissa-huskey/python-class/edit/master/docs/lessons/file-io.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/alissa-huskey/python-class/master?urlpath=lab/tree/docs/lessons/file-io.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#table-of-contents">
   Table of Contents
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reading-files">
   Reading Files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-whole-files">
     Reading whole files
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#part-1-create-groceries-txt">
       Part 1: Create
       <code class="docutils literal notranslate">
        <span class="pre">
         groceries.txt
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#part-2-print-grocery-list">
       Part 2: Print grocery list
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#part-3-exercise">
       Part 3: Exercise
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-lines">
     Reading lines
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#part-1-use-readlines">
       Part 1: Use
       <code class="docutils literal notranslate">
        <span class="pre">
         .readlines()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#part-2-exercise">
       Part 2: Exercise
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#writing-files">
   Writing Files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-or-trucating">
     Creating or trucating
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#part-1-write-to-packing-txt">
       Part 1: Write to
       <code class="docutils literal notranslate">
        <span class="pre">
         packing.txt
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Part 2: Exercise
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-to-files">
     Adding to files
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#part-1-add-to-packing-txt">
       Part 1: Add to
       <code class="docutils literal notranslate">
        <span class="pre">
         packing.txt
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Part 2: Exercise
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#automatic-file-closing">
   Automatic file closing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-the-with-statement">
     Part 1: the
     <code class="docutils literal notranslate">
      <span class="pre">
       with
      </span>
     </code>
     statement
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-2-scores-txt">
     Part 2:
     <code class="docutils literal notranslate">
      <span class="pre">
       scores.txt
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Part 3: Exercise
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reference">
   Reference
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#file-modes">
     File Modes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#see-also">
     See Also
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#glossary">
     Glossary
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#glossary-file-io">
       File Io
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="file-i-o">
<h1>File I/O<a class="headerlink" href="#file-i-o" title="Permalink to this headline">¶</a></h1>
<p>I/O is a shorthand way of referring to input and output. The <code class="docutils literal notranslate"><span class="pre">input()</span></code> and
<code class="docutils literal notranslate"><span class="pre">print()</span></code> functions are two examples of input and output. In this lesson
we’ll learn another: how to read from and write to files.</p>
<div class="section" id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="#reading-files">Reading Files</a></p>
<ul>
<li><p><a class="reference external" href="#reading-whole-files">Reading whole files</a></p>
<ul>
<li><p><a class="reference external" href="#part-1-create-groceries-txt">Part 1: Create groceries.txt</a></p></li>
<li><p><a class="reference external" href="#part-2-print-grocery-list">Part 2: Print grocery list</a></p></li>
<li><p><a class="reference external" href="#part-3-exercise">Part 3: Exercise</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#reading-lines">Reading lines</a></p>
<ul>
<li><p><a class="reference external" href="#part-1-use-readlines">Part 1: Use .readlines()</a></p></li>
<li><p><a class="reference external" href="#part-2-exercise">Part 2: Exercise</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference external" href="#writing-files">Writing Files</a></p>
<ul>
<li><p><a class="reference external" href="#creating-or-trucating">Creating or trucating</a></p>
<ul>
<li><p><a class="reference external" href="#part-1-write-to-packing-txt">Part 1: Write to packing.txt</a></p></li>
<li><p><a class="reference external" href="#part-2-exercise-1">Part 2: Exercise</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#adding-to-files">Adding to files</a></p>
<ul>
<li><p><a class="reference external" href="#part-1-add-to-packing-txt">Part 1: Add to packing.txt</a></p></li>
<li><p><a class="reference external" href="#part-2-exercise-2">Part 2: Exercise</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference external" href="#automatic-file-closing">Automatic file closing</a></p>
<ul>
<li><p><a class="reference external" href="#part-1-the-with-statement">Part 1: the with statement</a></p></li>
<li><p><a class="reference external" href="#part-2-scores-txt">Part 2: scores.txt</a></p></li>
<li><p><a class="reference external" href="#part-3-exercise-1">Part 3: Exercise</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#reference">Reference</a></p>
<ul>
<li><p><a class="reference external" href="#file-modes">File Modes</a></p></li>
<li><p><a class="reference external" href="#see-also">See Also</a></p></li>
<li><p><a class="reference external" href="#glossary">Glossary</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="reading-files">
<h2>Reading Files<a class="headerlink" href="#reading-files" title="Permalink to this headline">¶</a></h2>
<p>Sometimes in our programs we need to access information that is stored in a
file. In programming this is called reading a file and that’s what we’ll learn
first.</p>
<div class="section" id="reading-whole-files">
<h3>Reading whole files<a class="headerlink" href="#reading-whole-files" title="Permalink to this headline">¶</a></h3>
<p>In this section we will get the contents of a file containing a grocery list
then then print it to the screen.</p>
<div class="section" id="part-1-create-groceries-txt">
<h4>Part 1: Create <code class="docutils literal notranslate"><span class="pre">groceries.txt</span></code><a class="headerlink" href="#part-1-create-groceries-txt" title="Permalink to this headline">¶</a></h4>
<p>First we’ll need a file to read from. Paste the following lines into a new file
<code class="file docutils literal notranslate"><span class="pre">groceries.txt</span></code>, located in the same directory you will be running the
script from, or the <a class="reference internal" href="paths.html#term-working-directory"><span class="xref std std-term">working directory</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-number">Listing 160 </span><span class="caption-text">groceries.txt</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span>- eggs
- milk
- flour
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="part-2-print-grocery-list">
<h4>Part 2: Print grocery list<a class="headerlink" href="#part-2-print-grocery-list" title="Permalink to this headline">¶</a></h4>
<p>1. Create a second file <code class="file docutils literal notranslate"><span class="pre">groceries.py</span></code> also in the working directory.</p>
<p>2. To interact with files we start by using Pythons built-in <code class="docutils literal notranslate"><span class="pre">open()</span></code> function.
It returns a <a class="reference internal" href="#term-file-handler"><span class="xref std std-term">file handler</span></a> object, which we’ll assign to a variable
<code class="docutils literal notranslate"><span class="pre">fh</span></code>. The <code class="docutils literal notranslate"><span class="pre">open()</span></code> function takes at least one argument, the location of the
file to open. In this case we want a string with the filename:
<code class="file docutils literal notranslate"><span class="pre">&quot;groceries.txt&quot;</span></code>.</p>
<p>3. The <a class="reference internal" href="#term-file-handler"><span class="xref std std-term">file handler</span></a> object represents the connection to the file and
provides methods for interacting with the file.  In this case, we are
interested in the <code class="docutils literal notranslate"><span class="pre">.read()</span></code> method which returns the entire contents of the
file as a string. We’ll assign the string to the variable <code class="docutils literal notranslate"><span class="pre">contents</span></code>.</p>
<p>4. We’re done with the file now so we’ll call the <code class="docutils literal notranslate"><span class="pre">.close()</span></code> method on <code class="docutils literal notranslate"><span class="pre">fh</span></code> to
free up the computer resources used to manage the file. It is important to
always close a file handler when its no longer needed to avoid bugs that may
slow down your computer or interfere with the file you opened.</p>
<p>5. Finally, we’ll print the title <code class="docutils literal notranslate"><span class="pre">&quot;Groceries&quot;</span></code> underlined with <code class="docutils literal notranslate"><span class="pre">=</span></code> followed by the
contents of the file.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-number">Listing 161 </span><span class="caption-text">groceries.py</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># open the file and create a file handler object</span>
<span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;groceries.txt&quot;</span><span class="p">)</span>

<span class="c1"># get a string with the contents of the file</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># close the file handler</span>
<span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># print a header followed by the file contents</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Groceries&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=========&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<p>6. When you run your script you should see a nicely formatted grocery list, all ready for a shopping trip.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-number">Listing 162 </span><span class="caption-text">output</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Groceries
=========
- eggs
- milk
- flour
</pre></div>
</div>
</div>
</div>
<div class="section" id="part-3-exercise">
<h4>Part 3: Exercise<a class="headerlink" href="#part-3-exercise" title="Permalink to this headline">¶</a></h4>
<div class="exercise admonition" id="reading-files-exercise">
<p class="admonition-title"><span class="caption-number">Exercise 51 </span>(reading files)</p>
<div class="section" id="exercise-content">
<p>In this exercise you’ll be reading a file and printing its contents to the
screen, just like you did above but with a different file.</p>
<ol>
<li><p>Copy the following text and paste it into a file named <code class="file docutils literal notranslate"><span class="pre">mug-brownie.md</span></code> in your working directory.</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span><span class="gh">Mug Brownie</span>
<span class="gh">===========</span>

<span class="gu">Ingredients</span>
<span class="gu">-----------</span>
1/4 cup flour (30 g)
1/4 cup sugar (50 g)
2 tablespoons (13 g) cocoa (natural, unsweetened)
Pinch of salt
Tiny pinch of cinnamon
1/4 cup water (60 ml)
2 tablespoons (30 ml) melted butter, or neutral oil
1/8 teaspoon vanilla extract
1 small scoop of ice cream or 1 or 2 teaspoons heavy whipping cream to serve

<span class="gu">Instructions</span>
<span class="gu">------------</span>

<span class="k">1.</span> <span class="gs">**Add the dry ingredients to the mug and stir**</span> \
Place flour, sugar, cocoa, salt, and cinnamon in a microwave safe ceramic mug. Stir with a fork or spoon to mix well and break up any clumps.

<span class="k">2.</span> <span class="gs">**Add the wet ingredients and stir**</span> \
Add the butter or oil, water, and vanilla to the cup and stir until the mixture is smooth and there are no lumps.

<span class="k">3.</span> <span class="gs">**Zap in microwave**</span> \
Place in microwave and heat on high until the mixture is cooked through, about a 1 minute and 40 seconds for a 1000 watt microwave, or 1 minute 10 seconds on a 1650 watt microwave.
You may have to experiment and adjust the time for less or more powerful microwaves. If you don&#39;t know the power level on your microwave, start with 60 seconds and increase until the brownie is done. It should still be moist when cooked through, not dry.
</pre></div>
</div>
</li>
<li><p>Create a new file <code class="file docutils literal notranslate"><span class="pre">recipe.py</span></code> for this exercise.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">open()</span></code> function to get a file handler for the <code class="file docutils literal notranslate"><span class="pre">mug-brownie.md</span></code> file.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">.read()</span></code> method to get the contents of the file and assign it to a variable <code class="docutils literal notranslate"><span class="pre">recipe</span></code>.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">.close()</span></code> method to close the file handler.</p></li>
<li><p>Print the <code class="docutils literal notranslate"><span class="pre">recipe</span></code>.</p></li>
</ol>
</div>
</div>
<div class="solution dropdown admonition" id="lessons/file-io-solution-1">
<p class="admonition-title">Solution to <a class="reference external" href="#reading-files-exercise"><span>Exercise 51</span></a></p>
<div class="section" id="solution-content">
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-number">Listing 163 </span><span class="caption-text">recipe.py</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;mug-brownie.md&quot;</span><span class="p">)</span>
<span class="n">recipe</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">recipe</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="reading-lines">
<h3>Reading lines<a class="headerlink" href="#reading-lines" title="Permalink to this headline">¶</a></h3>
<p>Sometimes instead of getting the entire contents of a file at once, we want to
go through each line line for more fine grained control.</p>
<p>This is where the <code class="docutils literal notranslate"><span class="pre">.readlines()</span></code> method on file handler objects comes in. It
returns a list, where each element is one line from the file.</p>
<div class="section" id="part-1-use-readlines">
<h4>Part 1: Use <code class="docutils literal notranslate"><span class="pre">.readlines()</span></code><a class="headerlink" href="#part-1-use-readlines" title="Permalink to this headline">¶</a></h4>
<p>In this section we’ll modify the <code class="docutils literal notranslate"><span class="pre">recipes.py</span></code> file to use the <code class="docutils literal notranslate"><span class="pre">.readlines()</span></code>
method in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.</p>
<p>1. Since we’ll be printing each line as it is read, first we’ll need to move the
header lines to the beginning of the script so that they are printed first.</p>
<p>2. As before, we’ll need a file handler object from <code class="docutils literal notranslate"><span class="pre">open()</span></code>, so we can leave that
line unchanged.</p>
<p>3. This time we’ll replace the <code class="docutils literal notranslate"><span class="pre">.read()</span></code> line with a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop, iterating over the
list returned by <code class="docutils literal notranslate"><span class="pre">fh.readlines()</span></code>. We’ll call the item variable <code class="docutils literal notranslate"><span class="pre">line</span></code>, since
it will contain a line from the file in each iteration.</p>
<p>4. Now the list returned by <code class="docutils literal notranslate"><span class="pre">.readlines()</span></code> retains the carriage return (<code class="docutils literal notranslate"><span class="pre">&quot;\n&quot;</span></code>) at
the end of each <code class="docutils literal notranslate"><span class="pre">line</span></code> string. So when we print each <code class="docutils literal notranslate"><span class="pre">line</span></code> in the for loop,
we’ll tell the <code class="docutils literal notranslate"><span class="pre">print()</span></code> function not to add a newline by passing it the <code class="docutils literal notranslate"><span class="pre">end</span></code>
keyword argument with a value of <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p>
<p>5. Finally, we’ll still want to <code class="docutils literal notranslate"><span class="pre">.close()</span></code> the file handler, so that line can stay
the way it is.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-number">Listing 164 </span><span class="caption-text">groceries.py</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># print a header</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Groceries&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=========&quot;</span><span class="p">)</span>

<span class="c1"># open the file and create a file handler object</span>
<span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;groceries.txt&quot;</span><span class="p">)</span>

<span class="hll"><span class="c1"># loop through each line of the file</span>
</span><span class="hll"><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fh</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
</span><span class="hll">
</span><span class="hll">  <span class="c1"># print the line which includes the trailing &quot;\n&quot;</span>
</span><span class="hll">  <span class="c1"># and pass print an empty string for end</span>
</span><span class="hll">  <span class="c1"># so it doesn&#39;t add an extra newline</span>
</span><span class="hll">  <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span>
<span class="c1"># close the file handler</span>
<span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<p>6. When you run your script the output should be the same.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-number">Listing 165 </span><span class="caption-text">output</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Groceries
=========
- eggs
- milk
- flour
</pre></div>
</div>
</div>
</div>
<div class="section" id="part-2-exercise">
<h4>Part 2: Exercise<a class="headerlink" href="#part-2-exercise" title="Permalink to this headline">¶</a></h4>
<div class="exercise admonition" id="readlines-exercise">
<p class="admonition-title"><span class="caption-number">Exercise 52 </span>(reading lines)</p>
<div class="section" id="exercise-content">
<p>In this exercise you’ll be reading each line of a <code class="file docutils literal notranslate"><span class="pre">todo.txt</span></code> file using
the <code class="docutils literal notranslate"><span class="pre">.readlines()</span></code> method then printing each line with a <code class="docutils literal notranslate"><span class="pre">*</span></code> at the beginning.</p>
<ol>
<li><p>Copy the following text and paste it into a file named <code class="file docutils literal notranslate"><span class="pre">todo.txt</span></code> in
your working directory.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-number">Listing 166 </span><span class="caption-text">todo.txt</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dishes
laundry
homework
</pre></div>
</div>
</div>
</li>
<li><p>Create a new file <code class="file docutils literal notranslate"><span class="pre">todo.py</span></code> for this exercise.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">open()</span></code> function to get a file handler for the <code class="file docutils literal notranslate"><span class="pre">todo.txt</span></code> file.</p></li>
<li><p>Use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to iterate over the list returned by <code class="docutils literal notranslate"><span class="pre">fh.readlines()</span></code> and
name the item variable <code class="docutils literal notranslate"><span class="pre">line</span></code>.</p></li>
<li><p>In the for loop, print <code class="docutils literal notranslate"><span class="pre">&quot;*</span> <span class="pre">&quot;</span></code> followed by each <code class="docutils literal notranslate"><span class="pre">line</span></code> and tell <code class="docutils literal notranslate"><span class="pre">print()</span></code>
not to add an extra newline by passing the <code class="docutils literal notranslate"><span class="pre">end</span></code> keyword argument with an empty
string.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">.close()</span></code> method to close the file handler.</p></li>
</ol>
<p>Your output should look like this:</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-number">Listing 167 </span><span class="caption-text">output</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>* dishes
* laundry
* homework
</pre></div>
</div>
</div>
</div>
</div>
<div class="solution dropdown admonition" id="lessons/file-io-solution-3">
<p class="admonition-title">Solution to <a class="reference external" href="#readlines-exercise"><span>Exercise 52</span></a></p>
<div class="section" id="solution-content">
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-number">Listing 168 </span><span class="caption-text">todo.py</span><a class="headerlink" href="#id12" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;todo.txt&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fh</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="writing-files">
<h2>Writing Files<a class="headerlink" href="#writing-files" title="Permalink to this headline">¶</a></h2>
<p>Sometimes we need to create or modify files. That’s what we’ll be learning in
this section.</p>
<div class="section" id="creating-or-trucating">
<h3>Creating or trucating<a class="headerlink" href="#creating-or-trucating" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">open()</span></code> function takes an optional <code class="docutils literal notranslate"><span class="pre">mode</span></code> argument, which is a string that
indicates what we plan to do with the file. The default is <code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code> for read mode.</p>
<p>To write to a file though, we’ll open it in write mode by passing the optional
mode argument <code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> to <code class="docutils literal notranslate"><span class="pre">open()</span></code>. Write mode will either create or overwrite the
file and open it with permission to write.</p>
<div class="section" id="part-1-write-to-packing-txt">
<h4>Part 1: Write to <code class="docutils literal notranslate"><span class="pre">packing.txt</span></code><a class="headerlink" href="#part-1-write-to-packing-txt" title="Permalink to this headline">¶</a></h4>
<p>In this section we’re going write the contents of a <code class="docutils literal notranslate"><span class="pre">to_pack</span></code> list to a
<code class="file docutils literal notranslate"><span class="pre">packing.txt</span></code> file.</p>
<p>1. Create a file <code class="file docutils literal notranslate"><span class="pre">packing.py</span></code>, add a <code class="docutils literal notranslate"><span class="pre">create_packing()</span></code> function and
call it. The rest of your code in this section will go in this function.</p>
<p>2. Add a <code class="docutils literal notranslate"><span class="pre">to_pack</span></code> list of strings, things to pack.</p>
<p>3. Get a file handler <code class="docutils literal notranslate"><span class="pre">fh</span></code> by calling <code class="docutils literal notranslate"><span class="pre">open()</span></code> with the arguments <code class="docutils literal notranslate"><span class="pre">&quot;packing.txt&quot;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> for write mode. Be aware: the file is created or
<a class="reference internal" href="#term-truncate"><span class="xref std std-term">truncated</span></a> as soon as <code class="docutils literal notranslate"><span class="pre">open()</span></code> is called when in write mode.</p>
<p>4. Using a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop iterate over the <code class="docutils literal notranslate"><span class="pre">to_pack</span></code> list and name the item variable
<code class="docutils literal notranslate"><span class="pre">thing</span></code>.</p>
<p>5. In write mode, file handler objects keep a <a class="reference internal" href="#term-buffer"><span class="xref std std-term">buffer</span></a> where the text to be
written to the file is stored until <code class="docutils literal notranslate"><span class="pre">.close()</span></code> is called. Inside the loop we’ll
add each <code class="docutils literal notranslate"><span class="pre">thing</span></code> to the buffer by calling the <code class="docutils literal notranslate"><span class="pre">.write()</span></code> method on <code class="docutils literal notranslate"><span class="pre">fh</span></code> with
the argument <code class="samp docutils literal notranslate"><span class="pre">&quot;-</span> <em><span class="pre">thing</span></em><span class="pre">\n&quot;</span></code>. Don’t forget to add a <code class="docutils literal notranslate"><span class="pre">&quot;\n&quot;</span></code> to the end
of each string or the file will all be smooshed onto one long line!</p>
<p>6. As always, we need to <code class="docutils literal notranslate"><span class="pre">.close()</span></code> the file handler when we’re done with the
file. It is especially important in write mode because that is when the buffer
is written to disk.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-number">Listing 169 </span><span class="caption-text">packing.py</span><a class="headerlink" href="#id13" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_packing</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Create or overwrite packing.txt and write contents of to_pack list on each</span>
<span class="sd">     line&quot;&quot;&quot;</span>

  <span class="c1"># create a list of things to pack</span>
  <span class="n">to_pack</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;phone charger&quot;</span><span class="p">,</span>
    <span class="s2">&quot;passport&quot;</span><span class="p">,</span>
    <span class="s2">&quot;weapons&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cash&quot;</span><span class="p">,</span>
  <span class="p">]</span>

  <span class="c1"># open packing.txt in write mode, which is</span>
  <span class="c1"># when the file is created or truncated</span>
  <span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;packing.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>

  <span class="c1"># iterate through the to_pack list</span>
  <span class="k">for</span> <span class="n">thing</span> <span class="ow">in</span> <span class="n">to_pack</span><span class="p">:</span>
      <span class="c1"># add each thing to the file buffer</span>
      <span class="c1"># with a &quot;\n&quot; suffix so its on its own line</span>
      <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">thing</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

  <span class="c1"># close the file handler, which is when the the file is written to disk</span>
  <span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="n">create_packing</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<p>7. Now open up your <code class="file docutils literal notranslate"><span class="pre">packing.txt</span></code> file. It should look something like this:</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-number">Listing 170 </span><span class="caption-text">packing.txt</span><a class="headerlink" href="#id14" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>- phone charger
- passport
- weapons
- cash
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h4>Part 2: Exercise<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="exercise admonition" id="writing-files-exercise">
<p class="admonition-title"><span class="caption-number">Exercise 53 </span>(writing files)</p>
<div class="section" id="exercise-content">
<p>In this exercise you’ll make a <code class="docutils literal notranslate"><span class="pre">people</span></code> list and write it to a
<code class="file docutils literal notranslate"><span class="pre">xmas_shopping.txt</span></code> file.</p>
<ol class="simple">
<li><p>Create a file <code class="docutils literal notranslate"><span class="pre">xmas_shopping.py</span></code> for this script, add a
<code class="docutils literal notranslate"><span class="pre">create_xmas_shopping()</span></code> function and call it. Put the rest of the code from
this exercise in that function.</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">people</span></code> list of strings, names of people to shop for.</p></li>
<li><p>Open the file <code class="file docutils literal notranslate"><span class="pre">xmas_shopping.txt</span></code> in write mode and name the file
handler object <code class="docutils literal notranslate"><span class="pre">fh</span></code>.</p></li>
<li><p>Iterate through your list of <code class="docutils literal notranslate"><span class="pre">people</span></code> using a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop and name your items
variable <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
<li><p>In the loop <code class="docutils literal notranslate"><span class="pre">.write()</span></code> a line to the buffer: <code class="samp docutils literal notranslate"><span class="pre">&quot;[</span> <span class="pre">]</span> <em><span class="pre">name</span></em><span class="pre">\n&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.close()</span></code> the file handler</p></li>
</ol>
<p><code class="file docutils literal notranslate"><span class="pre">xmas_shopping.txt</span></code> should look something like this:</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-number">Listing 171 </span><span class="caption-text">xmas_shopping.txt</span><a class="headerlink" href="#id15" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[ ] Buffy
[ ] Xander
[ ] Willow
[ ] Giles
</pre></div>
</div>
</div>
</div>
</div>
<div class="solution dropdown admonition" id="lessons/file-io-solution-5">
<p class="admonition-title">Solution to <a class="reference external" href="#writing-files-exercise"><span>Exercise 53</span></a></p>
<div class="section" id="solution-content">
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-number">Listing 172 </span><span class="caption-text">xmas_shopping.py</span><a class="headerlink" href="#id16" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_xmas_shopping</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Create or overwrite xmas_shopping.txt and write contents of people list on each</span>
<span class="sd">       line&quot;&quot;&quot;</span>

    <span class="n">people</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Buffy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Xander&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Willow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Giles&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;xmas_shopping.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">people</span><span class="p">:</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ ] </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">create_xmas_shopping</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-to-files">
<h3>Adding to files<a class="headerlink" href="#adding-to-files" title="Permalink to this headline">¶</a></h3>
<p>Often instead of writing a whole file from scratch we just want to add to the
end of it.  That’s when we want append mode.</p>
<div class="section" id="part-1-add-to-packing-txt">
<h4>Part 1: Add to <code class="docutils literal notranslate"><span class="pre">packing.txt</span></code><a class="headerlink" href="#part-1-add-to-packing-txt" title="Permalink to this headline">¶</a></h4>
<p>In this section we’re going append a single line to the <code class="file docutils literal notranslate"><span class="pre">packing.txt</span></code>
file.</p>
<p>1. Open the <code class="file docutils literal notranslate"><span class="pre">packing.py</span></code> file, add a <code class="docutils literal notranslate"><span class="pre">addto_packing()</span></code> function and call it. The
rest of your code in this section will go in this function.</p>
<p>2. Get a file handler <code class="docutils literal notranslate"><span class="pre">fh</span></code> by calling <code class="docutils literal notranslate"><span class="pre">open()</span></code> with the arguments <code class="docutils literal notranslate"><span class="pre">&quot;packing.txt&quot;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> for append mode.</p>
<p>3. Add a single line the buffer by calling the <code class="docutils literal notranslate"><span class="pre">.write()</span></code> method on <code class="docutils literal notranslate"><span class="pre">fh</span></code> with the
argument <code class="samp docutils literal notranslate"><span class="pre">&quot;-</span> <em><span class="pre">thing</span> <span class="pre">to</span> <span class="pre">pack</span></em><span class="pre">\n&quot;</span></code>.</p>
<p>4. Finally, <code class="docutils literal notranslate"><span class="pre">.close()</span></code> the file handler.</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-number">Listing 173 </span><span class="caption-text">packing.py</span><a class="headerlink" href="#id17" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">addto_packing</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Append a single line to the packing.txt file&quot;&quot;&quot;</span>

  <span class="c1"># open the file in append mode</span>
  <span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;packing.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>

  <span class="c1"># add a single line to the file buffer</span>
  <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;- first aid kit</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

  <span class="c1"># close the file handler, which is when the the file is written to disk</span>
  <span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="n">create_packing</span><span class="p">()</span>
  <span class="n">addto_packing</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<p>5. After running your code the <code class="file docutils literal notranslate"><span class="pre">packing.txt</span></code> file should look something like this:</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-number">Listing 174 </span><span class="caption-text">packing.txt</span><a class="headerlink" href="#id18" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>- phone charger
- passport
- weapons
- cash
- first aid kit
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h4>Part 2: Exercise<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="exercise admonition" id="appending-to-files-exercise">
<p class="admonition-title"><span class="caption-number">Exercise 54 </span>(appending to files)</p>
<div class="section" id="exercise-content">
<p>In this exercise you’ll append a single line to the <code class="file docutils literal notranslate"><span class="pre">xmas_shopping.txt</span></code>
file.</p>
<ol class="simple">
<li><p>Open the file <code class="docutils literal notranslate"><span class="pre">xmas_shopping.py</span></code>, add a <code class="docutils literal notranslate"><span class="pre">addto_xmas_shopping()</span></code> function and
call it. Put the rest of the code from this exercise in that function.</p></li>
<li><p>Open the file <code class="file docutils literal notranslate"><span class="pre">xmas_shopping.txt</span></code> in append mode and name the file
handler object <code class="docutils literal notranslate"><span class="pre">fh</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.write()</span></code> a line to the buffer: <code class="samp docutils literal notranslate"><span class="pre">&quot;[</span> <span class="pre">]</span> <em><span class="pre">name</span></em><span class="pre">\n&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.close()</span></code> the file handler</p></li>
</ol>
<p>You should see the new name in <code class="file docutils literal notranslate"><span class="pre">xmas_shopping.txt</span></code>, something like:</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-number">Listing 175 </span><span class="caption-text">xmas_shopping.txt</span><a class="headerlink" href="#id19" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[ ] Buffy
[ ] Xander
[ ] Willow
[ ] Giles
[ ] Angel
</pre></div>
</div>
</div>
</div>
</div>
<div class="solution dropdown admonition" id="lessons/file-io-solution-7">
<p class="admonition-title">Solution to <a class="reference external" href="#appending-to-files-exercise"><span>Exercise 54</span></a></p>
<div class="section" id="solution-content">
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-number">Listing 176 </span><span class="caption-text">xmas_shopping.py</span><a class="headerlink" href="#id20" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">addto_xmas_shopping</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Append a single line to the xmas_shopping.txt file&quot;&quot;&quot;</span>

  <span class="c1"># open the file in append mode</span>
  <span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;xmas_shopping.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>

  <span class="c1"># add a single line to the file buffer</span>
  <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;[ ] Angel</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

  <span class="c1"># close the file handler, which is when the the file is written to disk</span>
  <span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">create_xmas_shopping</span><span class="p">()</span>
    <span class="n">addto_xmas_shopping</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="automatic-file-closing">
<h2>Automatic file closing<a class="headerlink" href="#automatic-file-closing" title="Permalink to this headline">¶</a></h2>
<p>There are lots of reasons that it is important to always <code class="docutils literal notranslate"><span class="pre">.close()</span></code> a file
handler object when you’re done with it.</p>
<ul class="simple">
<li><p>In theory Python is supposed to close any open file handlers when a program
ends, but it’s not a guarentee.</p></li>
<li><p>The more files are open, the more resources are used, and the more space is
taken up in memory. Leaving things open unneccassarily could slow down your
program and your computer while your program runs.</p></li>
<li><p>File changes usually don’t go into effect until you close the file handler.
If another part of your program is counting on those changes, you’ll run into
unpleasant surprises if you haven’t yet closed it.</p></li>
<li><p>There are limits to how many files a computer can have open at a time. While
it is rare to bump up against those limits in normal operation, it’s
certainly the kind of trouble a programmer can get themselves into by
mistake. (Imagine opening files in an infinate loop!)</p></li>
<li><p>Some operating sytems treat open files as locked, which may prevent you from
reading the file with another program or even deleting it.</p></li>
</ul>
<p>But sometimes mistakes happen. It’s easy to forget, and what if there is an
error after opening the file but before it is closed?</p>
<p>That’s where the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement and <a class="reference internal" href="#term-context-manager"><span class="xref std std-term">context managers</span></a>
come in.</p>
<div class="section" id="part-1-the-with-statement">
<h3>Part 1: the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement<a class="headerlink" href="#part-1-the-with-statement" title="Permalink to this headline">¶</a></h3>
<p>File handlers in Python have the feature of being <a class="reference internal" href="../context%20manager.html" title=""><span class="xref std std-term">context managers</span></a>,
which are objects designed to know how to do their own housekeeping for use in
a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement.</p>
<p>More on that later, but first lets take a quick look at the syntax of a <code class="docutils literal notranslate"><span class="pre">with</span></code>
statement:</p>
<div class="row"><div class="col-5 left-col-5">
<pre class="literal-block"><code class="samp docutils literal notranslate"><span class="pre">with</span> <em><span class="pre">EXPN</span></em> <span class="pre">as</span> <em><span class="pre">VAR</span></em><span class="pre">:</span></code>
<code class="samp docutils literal notranslate">&#160;&#160;&#160; <em><span class="pre">BODY</span></em></code></pre>
<p>For files it looks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
    <span class="c1"># do stuff with fh</span>
</pre></div>
</div>
</div><div class="col-7">
<table class="colwidths-auto notitle table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EXPN</span></code></p></td>
<td><p>an expression that produces a context manager</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VAR</span></code></p></td>
<td><p>variable name for the object</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BODY</span></code></p></td>
<td><p>statements that use <code class="docutils literal notranslate"><span class="pre">VAR</span></code></p></td>
</tr>
</tbody>
</table>
</div></div>
<p>So, what does that do?</p>
<p>The <code class="docutils literal notranslate"><span class="pre">with</span></code> statement wraps a block of code with calls to internal setup and
teardown methods provided by the context manager. In particular, anything that
ends the execution of the block triggers a call to the teardown method; whether
it ended because it finished or because there was an error. Neither errors nor
<kbd class="kbd docutils literal notranslate">^C</kbd> stays the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement from completing the appointed teardown.</p>
<p>File handlers know how to clean up after themselves. That means that when used
in a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement <code class="docutils literal notranslate"><span class="pre">.close()</span></code> is called automatically at the end of the
statement, even if there is an error in the <code class="samp docutils literal notranslate"><em><span class="pre">BODY</span></em></code>.</p>
<p>Lets take a look at our very first <code class="docutils literal notranslate"><span class="pre">groceries.txt</span></code> code alongside the same code
written using a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement.</p>
<div class="row"><div class="col left-col">
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-number">Listing 177 </span><span class="caption-text">groceries.py</span><a class="headerlink" href="#id21" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># open the file</span>
<span class="hll"><span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;groceries.txt&quot;</span><span class="p">)</span>
</span>
<span class="c1"># read the contents</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># close the file handler</span>
<span class="hll"><span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span>
<span class="c1"># print the file contents</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Groceries&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=========&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
</div><div class="col">
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-number">Listing 178 </span><span class="caption-text">groceries.py</span><a class="headerlink" href="#id22" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># open the file</span>
<span class="hll"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;groceries.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span>
   <span class="c1"># read the contents</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="hll"><span class="c1"># `fh` is automatically closed</span>
</span><span class="hll"><span class="c1"># no need to call fh.close()</span>
</span>
<span class="c1"># print the file contents</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Groceries&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=========&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>

</pre></div>
</td></tr></table></div>
</div>
</div></div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#context-managers">python.org language reference &gt; With Statement Context Managers</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">python.org language reference &gt; the with statement</a></p></li>
</ul>
</div>
</div>
<div class="section" id="part-2-scores-txt">
<h3>Part 2: <code class="docutils literal notranslate"><span class="pre">scores.txt</span></code><a class="headerlink" href="#part-2-scores-txt" title="Permalink to this headline">¶</a></h3>
<p>In this section we are going to use a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement to append a line with
random number to a <code class="docutils literal notranslate"><span class="pre">scores.txt</span></code> file.</p>
<p>1. Create a new file <code class="file docutils literal notranslate"><span class="pre">scores.py</span></code>.</p>
<p>2. Import the <code class="docutils literal notranslate"><span class="pre">random</span></code> module.</p>
<p>3. Add a <code class="docutils literal notranslate"><span class="pre">add_scores()</span></code> function and call it.  The rest of your code in this
section will go in this function.</p>
<p>4. Call <code class="docutils literal notranslate"><span class="pre">random.randint()</span></code> to get a random number between <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">100</span></code> and assign
it to the variable <code class="docutils literal notranslate"><span class="pre">score</span></code>.</p>
<p>5. Use a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement to open the <code class="file docutils literal notranslate"><span class="pre">&quot;scores.txt&quot;</span></code>:</p>
<ul class="simple">
<li><p>the <code class="samp docutils literal notranslate"><em><span class="pre">EXPN</span></em></code> should be a call to <code class="docutils literal notranslate"><span class="pre">open()</span></code> with the arguments
<code class="file docutils literal notranslate"><span class="pre">&quot;scores.txt&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> for append mode</p></li>
<li><p>give the <code class="samp docutils literal notranslate"><em><span class="pre">VAR</span></em></code> the name <code class="docutils literal notranslate"><span class="pre">fh</span></code></p></li>
<li><p>in the <code class="samp docutils literal notranslate"><em><span class="pre">BODY</span></em></code> add a single line <code class="samp docutils literal notranslate"><span class="pre">&quot;</span><em><span class="pre">score</span></em><span class="pre">\n&quot;</span></code> the buffer by calling the
<code class="docutils literal notranslate"><span class="pre">.write()</span></code> method on <code class="docutils literal notranslate"><span class="pre">fh</span></code></p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-number">Listing 179 </span><span class="caption-text">scores.py</span><a class="headerlink" href="#id23" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">add_scores</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Append a random score between 1 and 100 to scores.py&quot;&quot;&quot;</span>

    <span class="c1"># get a random number between 1 and 100</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

    <span class="c1"># open scores.txt in append mode</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;scores.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>

        <span class="c1"># add the score to the file buffer</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">add_scores</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<p>6. After you run your script <code class="file docutils literal notranslate"><span class="pre">scores.txt</span></code> should contain a single number, something like this:</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-number">Listing 180 </span><span class="caption-text">scores.txt</span><a class="headerlink" href="#id24" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>85
</pre></div>
</div>
</div>
<p>7. Run your script a few more times. <code class="file docutils literal notranslate"><span class="pre">scores.txt</span></code> should have some new lines, something like thls.</p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-number">Listing 181 </span><span class="caption-text">scores.txt</span><a class="headerlink" href="#id25" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>85
91
29
20
39
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h3>Part 3: Exercise<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="exercise admonition" id="with-statement-exercise">
<p class="admonition-title"><span class="caption-number">Exercise 55 </span>(with statements)</p>
<div class="section" id="exercise-content">
<p>In this exercise you’ll be reading each line of the <code class="file docutils literal notranslate"><span class="pre">scores.txt</span></code> file using
the <code class="docutils literal notranslate"><span class="pre">.readlines()</span></code> method then printing the last line.</p>
<ol class="simple">
<li><p>Open the <code class="file docutils literal notranslate"><span class="pre">scores.py</span></code> file, add a new function <code class="docutils literal notranslate"><span class="pre">last_score()</span></code>, and call it.</p></li>
<li><p>Use a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement to open the <code class="file docutils literal notranslate"><span class="pre">&quot;scores.txt&quot;</span></code>:</p>
<ul class="simple">
<li><p>the <code class="samp docutils literal notranslate"><em><span class="pre">EXPN</span></em></code> should be a call to <code class="docutils literal notranslate"><span class="pre">open()</span></code> with the argument
<code class="file docutils literal notranslate"><span class="pre">&quot;scores.txt&quot;</span></code> to open the file in read mode.</p></li>
<li><p>give the <code class="samp docutils literal notranslate"><em><span class="pre">VAR</span></em></code> the name <code class="docutils literal notranslate"><span class="pre">fh</span></code></p></li>
<li><p>in the <code class="samp docutils literal notranslate"><em><span class="pre">BODY</span></em></code>:</p>
<ul>
<li><p>Use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to iterate over the list returned by <code class="docutils literal notranslate"><span class="pre">fh.readlines()</span></code>
and call the item variable <code class="docutils literal notranslate"><span class="pre">score</span></code></p></li>
<li><p>You only need to for loop to assign the <code class="docutils literal notranslate"><span class="pre">score</span></code> variable, so in the
body of the loop just <code class="docutils literal notranslate"><span class="pre">continue</span></code>.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>After the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement, <code class="docutils literal notranslate"><span class="pre">score</span></code> will still be assigned to the last line
of the file.  Print <code class="samp docutils literal notranslate"><span class="pre">Your</span> <span class="pre">last</span> <span class="pre">score</span> <span class="pre">was:</span> <em><span class="pre">score</span></em></code> and use the <code class="docutils literal notranslate"><span class="pre">end</span></code>
keyword argument to avoid adding an extra newline.</p></li>
</ol>
<p>Your output should look something like this:</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-number">Listing 182 </span><span class="caption-text">output</span><a class="headerlink" href="#id26" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Your last score was: 18
</pre></div>
</div>
</div>
</div>
</div>
<div class="solution dropdown admonition" id="lessons/file-io-solution-9">
<p class="admonition-title">Solution to <a class="reference external" href="#with-statement-exercise"><span>Exercise 55</span></a></p>
<div class="section" id="solution-content">
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-number">Listing 183 </span><span class="caption-text">scores.py</span><a class="headerlink" href="#id27" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">last_score</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Print the most recent score from the scores.text file&quot;&quot;&quot;</span>

    <span class="c1"># open scores.txt in read mode</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;scores.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>

        <span class="c1"># iterate through each line in the file</span>
        <span class="k">for</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">fh</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>

            <span class="c1"># nothing to do in the loop since</span>
            <span class="c1"># we just need to assign the score variable</span>
            <span class="k">continue</span>

    <span class="c1"># print the final value of score (the last line of the file)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Your last score was: </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">add_scores</span><span class="p">()</span>
    <span class="n">last_score</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="file-modes">
<h3>File Modes<a class="headerlink" href="#file-modes" title="Permalink to this headline">¶</a></h3>
<p>These are the mode characters that can be used in the <code class="docutils literal notranslate"><span class="pre">open()</span></code> function.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Char</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>writeability</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">r</span></code></p></td>
<td><p>read</p></td>
<td><p>read only (default)</p></td>
</tr>
<tr class="row-odd"><td><p>writeability</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">w</span></code></p></td>
<td><p>write</p></td>
<td><p>create a new file or overwrite existing</p></td>
</tr>
<tr class="row-even"><td><p>writeability</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a</span></code></p></td>
<td><p>append</p></td>
<td><p>add to the end of a file</p></td>
</tr>
<tr class="row-odd"><td><p>writeability</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span></code></p></td>
<td><p>exclusive create</p></td>
<td><p>create a new file or fail if existing</p></td>
</tr>
<tr class="row-even"><td><p>writeability</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>read+write</p></td>
<td><p>allow reading and writing</p></td>
</tr>
<tr class="row-odd"><td><p>format</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">t</span></code></p></td>
<td><p>text</p></td>
<td><p>text files (default)</p></td>
</tr>
<tr class="row-even"><td><p>format</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b</span></code></p></td>
<td><p>binary</p></td>
<td><p>for images and other non-text files</p></td>
</tr>
</tbody>
</table>
<p>They can be combined, for example:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">a+</span></code></p></td>
<td><p>start at the end of the file and allow both reading and writing</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">w+</span></code></p></td>
<td><p>create a new file or overwrite existing and allow reading and writing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rb</span></code></p></td>
<td><p>open a file in binary mode for reading only</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="see-also">
<h3>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/tutorial/inputoutput.html#tut-files">python.org &gt; Reading and Writing Files</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#open">python.org &gt; Built-in Functions &gt; open</a></p></li>
</ul>
</div>
</div>
<div class="section" id="glossary">
<h3>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<div class="section" id="glossary-file-io">
<h4>File Io<a class="headerlink" href="#glossary-file-io" title="Permalink to this headline">¶</a></h4>
<dl class="glossary simple">
<dt id="term-file-like-object">file-like object<a class="headerlink" href="#term-file-like-object" title="Permalink to this term">¶</a></dt><dt id="term-file-object">file object<a class="headerlink" href="#term-file-object" title="Permalink to this term">¶</a></dt><dt id="term-file-handler">file handler<a class="headerlink" href="#term-file-handler" title="Permalink to this term">¶</a></dt><dt id="term-IO-object">IO object<a class="headerlink" href="#term-IO-object" title="Permalink to this term">¶</a></dt><dd><p>An object used to connect to and interact with a file.</p>
</dd>
<dt id="term-buffer">buffer<a class="headerlink" href="#term-buffer" title="Permalink to this term">¶</a></dt><dd><p>A sort of temporary holding pen for data that is going from one place to
another. For example, the default behavior of writable <a class="reference internal" href="#term-file-handler"><span class="xref std std-term">file handler</span></a>
objects is to append the data passed to the <code class="docutils literal notranslate"><span class="pre">.write()</span></code> function to the write
buffer, then write the buffer to disk when the handler is closed. This
improves preformance by reducing the number of hard disk writes.</p>
</dd>
<dt id="term-context-manager">context manager<a class="headerlink" href="#term-context-manager" title="Permalink to this term">¶</a></dt><dt id="term-context-manager-objects">context manager objects<a class="headerlink" href="#term-context-manager-objects" title="Permalink to this term">¶</a></dt><dd><p>Python objects that know how to do their own houskeeping. More precicely,
objects that provide the <a class="reference internal" href="../../dunder%20method.html" title=""><span class="xref std std-term">dunder methods</span></a> <code class="docutils literal notranslate"><span class="pre">.__enter__()</span></code> and
<code class="docutils literal notranslate"><span class="pre">.__exit__()</span></code> intended to be used by the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement for setup and
teardown tasks.</p>
</dd>
<dt id="term-truncate">truncate<a class="headerlink" href="#term-truncate" title="Permalink to this term">¶</a></dt><dd><p>To shorten something but cutting off a part. When a text file is opened in
write mode, it is truncated to zero bytes, thereby removing all content from
the file.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "alissa-huskey/python-class",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lessons"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="files.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Files</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="paths.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Paths</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>