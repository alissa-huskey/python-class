
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Pytest Tests &#8212; Python Class</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/asciinema-player-3.1.2.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/x-frame-bypass.js"></script>
    <script src="../../_static/asciinema-player-3.1.2.js"></script>
    <script src="../../_static/custom.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://alissa-huskey.github.io/python-class/practices/testing/pytest-tests.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using a Debugger" href="../debugging.html" />
    <link rel="prev" title="Introduction to Tests" href="intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Python Class</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lessons
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../lessons/tutorial.html">
   Beginner Tutorial
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/fundamentals.html">
   Fundamentals
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../lessons/syntax.html">
     Syntax
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/expressions.html">
       Expressions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/statements.html">
       Statements
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/variables.html">
       Variables
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../lessons/flow-control.html">
     Flow Control
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/conditional-statements.html">
       Conditional Statements
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/functions.html">
       Functions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/while-loops.html">
       While loops
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/for-loops.html">
       For Loops
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/flow.html">
       Program Flow
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/string-formatting-part-1.html">
       String formatting: Part 1
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/string-formatting-part-2.html">
       String formatting: Part 2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/reading-code.html">
       Reading Code
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../lessons/data-types/index.html">
     Data Types
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/data-types/objects.html">
       Objects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/data-types/numeric.html">
       Numeric Types
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../lessons/data-types/containers.html">
       Containers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../lessons/data-types/lists.html">
         Lists
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../lessons/data-types/dictionaries.html">
         Dictionaries
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../lessons/data-types/strings.html">
         Strings
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../lessons/files.html">
     Files
    </a>
    <input checked class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/file-io.html">
       File I/O
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/paths.html">
       Paths
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../lessons/file-system-operations.html">
       File System Operations
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/in-depth/index.html">
   In Depth
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/cli.html">
     CLI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/in-depth/imports.html">
     Imports
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/in-depth/magic-methods.html">
     Magic methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/in-depth/structure.html">
     Structuring Python Projects
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/in-depth/functions.html">
     Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/in-depth/oop.html">
     Object Oriented Programming
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/data/index.html">
   Data
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/data/functional-programming.html">
     Functional Programming
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/misc.html">
   Misc
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/dates.html">
     Dates and Times
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/web-apis.html">
     Web APIs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/battle.html">
     PyPet Battle
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/game-book.html">
   Invent Games Book
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/03_guess_the_number.html">
     Chapter 3: Guess the Number
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/dragon-realm.html">
     Dragon Realm
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Practices
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../problem-solving.html">
   Problem Solving
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="intro.html">
   Introduction to Tests
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Pytest Tests
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../debugging.html">
   Using a Debugger
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-inspection.html">
   Data Inspection
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tools
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/asdf.html">
   asdf
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/git.html">
   Git
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/homebrew.html">
   Homebrew
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/ipython.html">
   IPython
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/mac.html">
   Mac Dev Env for Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/poetry.html">
   Poetry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/pyenv.html">
   pyenv
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/pytest.html">
   Pytest
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/python-shell.html">
   Python Shell
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/replit.html">
   Replit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/screencasts.html">
   Screencasts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/terminal.html">
   Terminal
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/vscode.html">
   VS Code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/windows.html">
   Windows Dev Env for Python
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../reference/recommended.html">
   Recommended Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../reference/glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../reference/dicts.html">
   Dictionaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../reference/lists.html">
   Lists
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/alissa-huskey/python-class/blob/master/pythonclass/template.py">
   Script Template
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Exercises
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../exercises/program-flow.html">
   Program Flow Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../exercises/list-exercises.html">
   List Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../exercises/list-string-exercises.html">
   List String Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../exercises/flashcards.html">
   Flashcards Project
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../exercises/adventure/intro.html">
   Adventure Game
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-01.html">
     Part 1: The game loop
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-02.html">
     Part 2: Go places
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-03.html">
     Part 3: Prettify
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-04.html">
     Part 4: Examine items
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-05.html">
     Part 5: Look around
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-06.html">
     Part 6: Take things
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-07.html">
     Part 7: Show inventory
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-08.html">
     Part 8: Drop things
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-09.html">
     Part 9: Refactoring
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-10.html">
     Part 10: Buy things
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-11.html">
     Part 11: Test things
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-12.html">
     Part 12: Read things
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-13.html">
     Part 13: Health
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-14.html">
     Part 14: Dragons
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/part-15.html">
     Part 15: Eat &amp; Drink
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/reference.html">
     Reference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../exercises/adventure/todo.html">
     TODO
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Admin
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../orphans.html">
   Orphaned Terms
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/alissa-huskey/python-class/master?urlpath=lab/tree/docs/practices/testing/pytest-tests.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/alissa-huskey/python-class"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/alissa-huskey/python-class/edit/master/docs/practices/testing/pytest-tests.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1-writing-tests">
   Part 1: Writing tests
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-1-hello-world">
     Part 1.1: Hello World
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-2-test-failures">
     Part 1.2: Test failures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-3-reading-test-output">
     Part 1.3: Reading test output
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-4-testing-functions">
     Part 1.4: Testing functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-5-importing-functions">
     Part 1.5: Importing functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-6-more-imports">
     Part 1.6: More imports
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2-skipping-tests">
   Part 2: Skipping tests
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-2-1-skipping-a-test">
     Part 2.1: Skipping a test
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-2-2-skipping-a-failure">
     Part 2.2: Skipping a failure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-2-3-skipping-sometimes">
     Part 2.3: Skipping sometimes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-3-exception-handling">
   Part 3: Exception Handling
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-3-1-pytest-raises">
     Part 3.1: pytest.raises
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-3-1-exception-messages">
     Part 3.1: Exception messages
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-3-3-message-patterns">
     Part 3.3: Message patterns
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-4-testing-printed-output">
   Part 4: Testing printed output
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-4-1-testing-stdout">
     Part 4.1: Testing stdout
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-4-2-testing-stderr">
     Part 4.2: Testing stderr
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-4-3-testing-both">
     Part 4.3: Testing both
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-5-parametrization">
   Part 5: Parametrization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-5-1-parametrize">
     Part 5.1: Parametrize
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-identify-differences">
       A. Identify differences
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-add-age-variable">
       B. Add
       <code class="docutils literal notranslate">
        <span class="pre">
         age
        </span>
       </code>
       variable
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#c-add-expected-variable">
       C. Add
       <code class="docutils literal notranslate">
        <span class="pre">
         expected
        </span>
       </code>
       variable
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#d-add-decorator">
       D. Add decorator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#e-add-values-for-one-test">
       E. Add values for one test
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#f-add-assert-message">
       F. Add assert message
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#g-add-remaining-test-cases">
       G. Add remaining test cases
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#h-run-the-tests">
       H. Run the tests
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#i-failing-test-output">
       I. Failing test output
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-5-2-skipping-instances">
     Part 5.2: Skipping instances
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-6-setup-and-teardown">
   Part 6: Setup and Teardown
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-6-1-per-module-setup-teardown-functions">
     Part 6.1: Per-module setup/teardown functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-6-2-per-test-setup-teardown-functions">
     Part 6.2: Per-test setup/teardown functions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-test-corruption">
       A. Test corruption
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-define-setup-function">
       B. Define
       <code class="docutils literal notranslate">
        <span class="pre">
         setup_function()
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-7-fixtures">
   Part 7: Fixtures
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-7-1-basic-fixture">
     Part 7.1: Basic Fixture
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#example">
       Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-7-2-fixtures-requesting-fixtures">
     Part 7.2: Fixtures Requesting Fixtures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-7-3-scope">
     Part 7.3: Scope
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reference">
   Reference
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#glossary">
   Glossary
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#glossary-testing">
     Testing
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#see-also">
   See also
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Pytest Tests</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1-writing-tests">
   Part 1: Writing tests
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-1-hello-world">
     Part 1.1: Hello World
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-2-test-failures">
     Part 1.2: Test failures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-3-reading-test-output">
     Part 1.3: Reading test output
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-4-testing-functions">
     Part 1.4: Testing functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-5-importing-functions">
     Part 1.5: Importing functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-1-6-more-imports">
     Part 1.6: More imports
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2-skipping-tests">
   Part 2: Skipping tests
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-2-1-skipping-a-test">
     Part 2.1: Skipping a test
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-2-2-skipping-a-failure">
     Part 2.2: Skipping a failure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-2-3-skipping-sometimes">
     Part 2.3: Skipping sometimes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-3-exception-handling">
   Part 3: Exception Handling
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-3-1-pytest-raises">
     Part 3.1: pytest.raises
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-3-1-exception-messages">
     Part 3.1: Exception messages
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-3-3-message-patterns">
     Part 3.3: Message patterns
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-4-testing-printed-output">
   Part 4: Testing printed output
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-4-1-testing-stdout">
     Part 4.1: Testing stdout
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-4-2-testing-stderr">
     Part 4.2: Testing stderr
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-4-3-testing-both">
     Part 4.3: Testing both
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-5-parametrization">
   Part 5: Parametrization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-5-1-parametrize">
     Part 5.1: Parametrize
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-identify-differences">
       A. Identify differences
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-add-age-variable">
       B. Add
       <code class="docutils literal notranslate">
        <span class="pre">
         age
        </span>
       </code>
       variable
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#c-add-expected-variable">
       C. Add
       <code class="docutils literal notranslate">
        <span class="pre">
         expected
        </span>
       </code>
       variable
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#d-add-decorator">
       D. Add decorator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#e-add-values-for-one-test">
       E. Add values for one test
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#f-add-assert-message">
       F. Add assert message
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#g-add-remaining-test-cases">
       G. Add remaining test cases
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#h-run-the-tests">
       H. Run the tests
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#i-failing-test-output">
       I. Failing test output
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-5-2-skipping-instances">
     Part 5.2: Skipping instances
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-6-setup-and-teardown">
   Part 6: Setup and Teardown
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-6-1-per-module-setup-teardown-functions">
     Part 6.1: Per-module setup/teardown functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-6-2-per-test-setup-teardown-functions">
     Part 6.2: Per-test setup/teardown functions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-test-corruption">
       A. Test corruption
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-define-setup-function">
       B. Define
       <code class="docutils literal notranslate">
        <span class="pre">
         setup_function()
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-7-fixtures">
   Part 7: Fixtures
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-7-1-basic-fixture">
     Part 7.1: Basic Fixture
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#example">
       Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-7-2-fixtures-requesting-fixtures">
     Part 7.2: Fixtures Requesting Fixtures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#part-7-3-scope">
     Part 7.3: Scope
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reference">
   Reference
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#glossary">
   Glossary
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#glossary-testing">
     Testing
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#see-also">
   See also
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="pytest-tests">
<h1>Pytest Tests<a class="headerlink" href="#pytest-tests" title="Permalink to this headline">#</a></h1>
<p>Pytest is a testing framework for Python. In this document we’ll discuss how to
write tests for Pytest as well as some of the extra features that Pytest
provides.</p>
<p>For installation and other usage information, see the <a class="reference internal" href="../../tools/pytest.html"><span class="doc std std-doc">Pytest tool guide</span></a>.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#part-1-writing-tests" id="id45">Part 1: Writing tests</a></p>
<ul>
<li><p><a class="reference internal" href="#part-1-1-hello-world" id="id46">Part 1.1: Hello World</a></p></li>
<li><p><a class="reference internal" href="#part-1-2-test-failures" id="id47">Part 1.2: Test failures</a></p></li>
<li><p><a class="reference internal" href="#part-1-3-reading-test-output" id="id48">Part 1.3: Reading test output</a></p></li>
<li><p><a class="reference internal" href="#part-1-4-testing-functions" id="id49">Part 1.4: Testing functions</a></p></li>
<li><p><a class="reference internal" href="#part-1-5-importing-functions" id="id50">Part 1.5: Importing functions</a></p></li>
<li><p><a class="reference internal" href="#part-1-6-more-imports" id="id51">Part 1.6: More imports</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#part-2-skipping-tests" id="id52">Part 2: Skipping tests</a></p>
<ul>
<li><p><a class="reference internal" href="#part-2-1-skipping-a-test" id="id53">Part 2.1: Skipping a test</a></p></li>
<li><p><a class="reference internal" href="#part-2-2-skipping-a-failure" id="id54">Part 2.2: Skipping a failure</a></p></li>
<li><p><a class="reference internal" href="#part-2-3-skipping-sometimes" id="id55">Part 2.3: Skipping sometimes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#part-3-exception-handling" id="id56">Part 3: Exception Handling</a></p>
<ul>
<li><p><a class="reference internal" href="#part-3-1-pytest-raises" id="id57">Part 3.1: pytest.raises</a></p></li>
<li><p><a class="reference internal" href="#part-3-1-exception-messages" id="id58">Part 3.1: Exception messages</a></p></li>
<li><p><a class="reference internal" href="#part-3-3-message-patterns" id="id59">Part 3.3: Message patterns</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#part-4-testing-printed-output" id="id60">Part 4: Testing printed output</a></p>
<ul>
<li><p><a class="reference internal" href="#part-4-1-testing-stdout" id="id61">Part 4.1: Testing stdout</a></p></li>
<li><p><a class="reference internal" href="#part-4-2-testing-stderr" id="id62">Part 4.2: Testing stderr</a></p></li>
<li><p><a class="reference internal" href="#part-4-3-testing-both" id="id63">Part 4.3: Testing both</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#part-5-parametrization" id="id64">Part 5: Parametrization</a></p>
<ul>
<li><p><a class="reference internal" href="#part-5-1-parametrize" id="id65">Part 5.1: Parametrize</a></p></li>
<li><p><a class="reference internal" href="#part-5-2-skipping-instances" id="id66">Part 5.2: Skipping instances</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#part-6-setup-and-teardown" id="id67">Part 6: Setup and Teardown</a></p>
<ul>
<li><p><a class="reference internal" href="#part-6-1-per-module-setup-teardown-functions" id="id68">Part 6.1: Per-module setup/teardown functions</a></p></li>
<li><p><a class="reference internal" href="#part-6-2-per-test-setup-teardown-functions" id="id69">Part 6.2: Per-test setup/teardown functions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#part-7-fixtures" id="id70">Part 7: Fixtures</a></p>
<ul>
<li><p><a class="reference internal" href="#part-7-1-basic-fixture" id="id71">Part 7.1: Basic Fixture</a></p></li>
<li><p><a class="reference internal" href="#part-7-2-fixtures-requesting-fixtures" id="id72">Part 7.2: Fixtures Requesting Fixtures</a></p></li>
<li><p><a class="reference internal" href="#part-7-3-scope" id="id73">Part 7.3: Scope</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#reference" id="id74">Reference</a></p></li>
<li><p><a class="reference internal" href="#glossary" id="id75">Glossary</a></p>
<ul>
<li><p><a class="reference internal" href="#glossary-testing" id="id76">Testing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#see-also" id="id77">See also</a></p></li>
</ul>
</div>
<section id="part-1-writing-tests">
<h2><a class="toc-backref" href="#contents">Part 1: Writing tests</a><a class="headerlink" href="#part-1-writing-tests" title="Permalink to this headline">#</a></h2>
<p>In this section we’ll discuss how to write tests for Pytest.</p>
<section id="part-1-1-hello-world">
<h3><a class="toc-backref" href="#contents">Part 1.1: Hello World</a><a class="headerlink" href="#part-1-1-hello-world" title="Permalink to this headline">#</a></h3>
<p>Pytest expects tests to be located in files whose names begin with <code class="docutils literal notranslate"><span class="pre">test_</span></code> or
end with <code class="docutils literal notranslate"><span class="pre">_test.py</span></code>.</p>
<p>Individual tests are written in functions that begins with <code class="docutils literal notranslate"><span class="pre">test_</span></code> and contain
one or more <code class="docutils literal notranslate"><span class="pre">assert</span></code> statements which determine if it passes or fails.</p>
<p>Here’s a simple example test that will always pass.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-number">Listing 519 </span><span class="caption-text">test_hello_world.py</span><a class="headerlink" href="#id1" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">def</span> <span class="nf">test_truth</span><span class="p">():</span>
<span class="linenos">2</span>    <span class="k">assert</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Do not duplicate test names. If you do, only the first test will be run and
any duplicates will be ignored by Pytest.</p>
</div>
<p>To run the test use the command line to type <code class="docutils literal notranslate"><span class="pre">pytest</span></code> followed by the filename.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-number">Listing 520 </span><span class="caption-text">command line</span><a class="headerlink" href="#id2" title="Permalink to this code">#</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pytest<span class="w"> </span>test_hello_world.py
</pre></div>
</div>
</div>
<p>The result will look something like this.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-number">Listing 521 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id3" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 1 item

test_hello_world.py <span class=" -Color -Color-Green">.</span>                                    <span class=" -Color -Color-Green">[100%]</span>

<span class=" -Color -Color-Green">====================== </span><span class=" -Color -Color-Bold -Color-Bold-Green">1 passed</span><span class=" -Color -Color-Green"> in 0.00s =======================</span>
</pre></div>
</div>
</div>
<p>Congratulations, you’ve run your first Pytest test!</p>
</section>
<section id="part-1-2-test-failures">
<h3><a class="toc-backref" href="#contents">Part 1.2: Test failures</a><a class="headerlink" href="#part-1-2-test-failures" title="Permalink to this headline">#</a></h3>
<p>Let’s look at an example of a failing tests. In the following <code class="docutils literal notranslate"><span class="pre">test_lies()</span></code>
function the assert statement fails, which will in turn cause that test to
fail.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-number">Listing 522 </span><span class="caption-text">test_hello_world.py</span><a class="headerlink" href="#id4" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">def</span> <span class="nf">test_truth</span><span class="p">():</span>
<span class="linenos">2</span>    <span class="k">assert</span> <span class="kc">True</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="k">def</span> <span class="nf">test_lies</span><span class="p">():</span>
<span class="linenos">5</span>    <span class="k">assert</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
<p>Here is what your test output looks like now.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-number">Listing 523 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id5" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest test_hello_world.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 2 items

test_hello_world.py <span class=" -Color -Color-Green">.</span><span class=" -Color -Color-Red">F</span>                                   <span class=" -Color -Color-Red">[100%]</span>

=========================== FAILURES ===========================
<span class=" -Color -Color-Bold -Color-Bold-Red">__________________________ test_lies ___________________________</span>

    def test_lies():
&gt;       assert False
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert False</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">test_hello_world.py</span>:5: AssertionError
<span class=" -Color -Color-Bold -Color-Bold-Cyan">=================== short test summary info ====================</span>
<span class=" -Color -Color-Red">FAILED</span> test_hello_world.py::<span class=" -Color -Color-Bold">test_lies</span> - assert False
<span class=" -Color -Color-Red">================= </span><span class=" -Color -Color-Bold -Color-Bold-Red">1 failed</span>, <span class=" -Color -Color-Green">1 passed</span><span class=" -Color -Color-Red"> in 0.05s ==================</span>
</pre></div>
</div>
</div>
</section>
<section id="part-1-3-reading-test-output">
<h3><a class="toc-backref" href="#contents">Part 1.3: Reading test output</a><a class="headerlink" href="#part-1-3-reading-test-output" title="Permalink to this headline">#</a></h3>
<p>Let’s take a closer look at that test output.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-number">Listing 524 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id6" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 2 items

<span class="hll">test_hello_world.py <span class=" -Color -Color-Green">.</span><span class=" -Color -Color-Red">F</span>                                   <span class=" -Color -Color-Red">[100%]</span>
</span></pre></div>
</div>
</div>
<p class="sd-card-text">This line indicates the progress of each test file and each test in the file is
represented by a single character following the filename.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Test No</p></th>
<th class="head"><p class="sd-card-text">Symbol</p></th>
<th class="head"><p class="sd-card-text">Means…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="sd-card-text">1</p></td>
<td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">.</span></code> (green)</p></td>
<td><p class="sd-card-text">passing test</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">2</p></td>
<td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">F</span></code> (red)</p></td>
<td><p class="sd-card-text">failing test</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text"></p></td>
<td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">[100%]</span></code></p></td>
<td><p class="sd-card-text">all tests were run</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"></p></td>
<td><p class="sd-card-text"></p></td>
<td><p class="sd-card-text"></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-number">Listing 525 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id7" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 2 items

test_hello_world.py <span class=" -Color -Color-Green">.</span><span class=" -Color -Color-Red">F</span>                                   <span class=" -Color -Color-Red">[100%]</span>

=========================== FAILURES ===========================
<span class="hll"><span class=" -Color -Color-Bold -Color-Bold-Red">__________________________ test_lies ___________________________</span>
</span><span class="hll">
</span><span class="hll">    def test_lies():
</span><span class="hll">&gt;       assert False
</span><span class="hll"><span class=" -Color -Color-Bold -Color-Bold-Red">E       assert False</span>
</span></pre></div>
</div>
</div>
<p class="sd-card-text">This section of the output shows you detailed information about each failing
test.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Output</p></th>
<th class="head"><p class="sd-card-text">Means…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">_____</span> <span class="pre">test_lies</span> <span class="pre">_____</span></code></p></td>
<td><p class="sd-card-text">start of info about <code class="docutils literal notranslate"><span class="pre">test_lies()</span></code> failure</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">assert</span> <span class="pre">False</span></code></p></td>
<td><p class="sd-card-text">the line where the failure happened, indicated by <code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">E</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">assert</span> <span class="pre">False</span></code></p></td>
<td><p class="sd-card-text">more information about the error, indicated by a red <code class="docutils literal notranslate"><span class="pre">E</span></code></p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"></p></td>
<td><p class="sd-card-text"></p></td>
</tr>
</tbody>
</table>
<p class="sd-card-text">If this was an error in your code instead of a failing <code class="docutils literal notranslate"><span class="pre">assert</span></code> there might
be multiple lines beginning with <code class="docutils literal notranslate"><span class="pre">E</span></code> and a lot more information. In this case
though there’s no additional information so it looks the same as the line above.</p>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-number">Listing 526 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id8" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest test_hello_world.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 2 items

test_hello_world.py <span class=" -Color -Color-Green">.</span><span class=" -Color -Color-Red">F</span>                                   <span class=" -Color -Color-Red">[100%]</span>

=========================== FAILURES ===========================
<span class=" -Color -Color-Bold -Color-Bold-Red">__________________________ test_lies ___________________________</span>

    def test_lies():
&gt;       assert False
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert False</span>

<span class="hll"><span class=" -Color -Color-Bold -Color-Bold-Red">test_hello_world.py</span>:5: AssertionError
</span></pre></div>
</div>
</div>
<p class="sd-card-text">This line is probably the most useful of all. It tells you the three most
important pieces of information:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Output</p></th>
<th class="head"><p class="sd-card-text">Means…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">test_hello_world.py</span></code></p></td>
<td><p class="sd-card-text">the file where the error occurred</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">5</span></code></p></td>
<td><p class="sd-card-text">the line number that it happened on</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">AssertionError</span></code></p></td>
<td><p class="sd-card-text">the exception class that was raised</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"></p></td>
<td><p class="sd-card-text"></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-number">Listing 527 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id9" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest test_hello_world.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 2 items

test_hello_world.py <span class=" -Color -Color-Green">.</span><span class=" -Color -Color-Red">F</span>                                   <span class=" -Color -Color-Red">[100%]</span>

=========================== FAILURES ===========================
<span class=" -Color -Color-Bold -Color-Bold-Red">__________________________ test_lies ___________________________</span>

    def test_lies():
&gt;       assert False
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert False</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">test_hello_world.py</span>:5: AssertionError
<span class="hll"><span class=" -Color -Color-Bold -Color-Bold-Cyan">=================== short test summary info ====================</span>
</span><span class="hll"><span class=" -Color -Color-Red">FAILED</span> test_hello_world.py::<span class=" -Color -Color-Bold">test_lies</span> - assert False
</span><span class="hll"><span class=" -Color -Color-Red">================= </span><span class=" -Color -Color-Bold -Color-Bold-Red">1 failed</span>, <span class=" -Color -Color-Green">1 passed</span><span class=" -Color -Color-Red"> in 0.05s ==================</span>
</span></pre></div>
</div>
</div>
<p class="sd-card-text">Finally, this line shows a summary of all the failures.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Output</p></th>
<th class="head"><p class="sd-card-text">Means…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">test_hello_world.py</span></code></p></td>
<td><p class="sd-card-text">the file where the error occurred</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">test_lies</span></code></p></td>
<td><p class="sd-card-text">the test that failed</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">False</span></code></p></td>
<td><p class="sd-card-text">the code that failed</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">failed</span></code></p></td>
<td><p class="sd-card-text">total failing tests</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">passed</span></code></p></td>
<td><p class="sd-card-text">total passing tests</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"></p></td>
<td><p class="sd-card-text"></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="part-1-4-testing-functions">
<h3><a class="toc-backref" href="#contents">Part 1.4: Testing functions</a><a class="headerlink" href="#part-1-4-testing-functions" title="Permalink to this headline">#</a></h3>
<p>Let’s take a look at what a test for a piece of code might look like.</p>
<p>Below we add to the <code class="file docutils literal notranslate"><span class="pre">test_hello_world.py</span></code> file a <code class="docutils literal notranslate"><span class="pre">increment()</span></code> function
which returns <code class="docutils literal notranslate"><span class="pre">number</span></code> incremented by one.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">test_increment()</span></code> test calls the <code class="docutils literal notranslate"><span class="pre">increment()</span></code> function with an argument of
<code class="docutils literal notranslate"><span class="pre">5</span></code> and assigns the result to the variable <code class="docutils literal notranslate"><span class="pre">answer</span></code>. Then it asserts that the
<code class="docutils literal notranslate"><span class="pre">answer</span></code> should be <code class="docutils literal notranslate"><span class="pre">6</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-number">Listing 528 </span><span class="caption-text">test_hello_world.py</span><a class="headerlink" href="#id10" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
<span class="linenos">2</span>    <span class="k">return</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="k">def</span> <span class="nf">test_truth</span><span class="p">():</span>
<span class="linenos">5</span>    <span class="k">assert</span> <span class="kc">True</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="k">def</span> <span class="nf">test_increment</span><span class="p">():</span>
<span class="linenos">8</span>    <span class="n">answer</span> <span class="o">=</span> <span class="n">increment</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">9</span>    <span class="k">assert</span> <span class="n">answer</span> <span class="o">==</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
</section>
<section id="part-1-5-importing-functions">
<h3><a class="toc-backref" href="#contents">Part 1.5: Importing functions</a><a class="headerlink" href="#part-1-5-importing-functions" title="Permalink to this headline">#</a></h3>
<p>We typically do not keep our functions in the same file as our tests. This
means in order to test our functions, we’ll need to import them into the test
file.</p>
<p>Let’s say we have a file called <code class="docutils literal notranslate"><span class="pre">my_project.py</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-number">Listing 529 </span><span class="caption-text">my_project.py</span><a class="headerlink" href="#id11" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">def</span> <span class="nf">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">):</span>
<span class="linenos">2</span>    <span class="k">return</span> <span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">21</span>
</pre></div>
</div>
</div>
<p>We would typically name our test file <code class="docutils literal notranslate"><span class="pre">test_my_project.py</span></code>. Then we’d import
the <code class="docutils literal notranslate"><span class="pre">can_drink</span></code> function from the <code class="docutils literal notranslate"><span class="pre">my_project</span></code> module before defining the test
for it.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-number">Listing 530 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id12" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">my_project</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">():</span>
<span class="linenos">4</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">5</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">is_allowed</span>
</pre></div>
</div>
</div>
</section>
<section id="part-1-6-more-imports">
<h3><a class="toc-backref" href="#contents">Part 1.6: More imports</a><a class="headerlink" href="#part-1-6-more-imports" title="Permalink to this headline">#</a></h3>
<p>In larger projects it is common to break things into multiple files and
directories. A common directory structure looks like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.
├── README.md
├── my_project
│   ├── __init__.py
│   └── main.py
├── setup.py
└── tests
    └── test_main.py
</pre></div>
</div>
<p>In a setup like this your code would be in the <code class="docutils literal notranslate"><span class="pre">my_project</span></code> directory and your
tests in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory.</p>
<p>If we imagine that we renamed the <code class="docutils literal notranslate"><span class="pre">my_project.py</span></code> file to <code class="docutils literal notranslate"><span class="pre">my_project/main.py</span></code>,
then we would need to modify the import statement in our test file.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-number">Listing 531 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id13" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">():</span>
<span class="linenos">4</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">5</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">is_allowed</span>
</pre></div>
</div>
</div>
<p>To run the tests you would then run the command</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-number">Listing 532 </span><span class="caption-text">command line</span><a class="headerlink" href="#id14" title="Permalink to this code">#</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pytest<span class="w"> </span>tests/test_main.py
</pre></div>
</div>
</div>
<p>Or to run all tests in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory simply:</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-number">Listing 533 </span><span class="caption-text">command line</span><a class="headerlink" href="#id15" title="Permalink to this code">#</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pytest<span class="w"> </span>tests
</pre></div>
</div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You must run <code class="docutils literal notranslate"><span class="pre">pytest</span></code> from the root directory of your project for the imports
to work properly.</p>
</div>
</section>
</section>
<section id="part-2-skipping-tests">
<h2><a class="toc-backref" href="#contents">Part 2: Skipping tests</a><a class="headerlink" href="#part-2-skipping-tests" title="Permalink to this headline">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.pytest.org/en/stable/how-to/skipping.html">Pytest Docs &gt; How to use skip and xfail to deal with tests that cannot succeed</a></p>
</div>
</aside>
<p>In this section we’ll discuss how to skip tests.</p>
<section id="part-2-1-skipping-a-test">
<h3><a class="toc-backref" href="#contents">Part 2.1: Skipping a test</a><a class="headerlink" href="#part-2-1-skipping-a-test" title="Permalink to this headline">#</a></h3>
<p>Sometimes we have a test that is not currently working for some reason–maybe
it’s a work in progress or represents something you want to implement at a
later date. Here’s an example in our old <code class="docutils literal notranslate"><span class="pre">test_hello_world.py</span></code> file.</p>
<p>First you need to import the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> module in your test. Then above the test
function add the line <code class="samp docutils literal notranslate"><span class="pre">&#64;pytest.mark.skip(reason=&quot;</span><em><span class="pre">EXPLANATION</span></em><span class="pre">&quot;)</span></code> with a
brief explanation of why it is being skipped.</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-number">Listing 534 </span><span class="caption-text">test_hello_world.py</span><a class="headerlink" href="#id16" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_truth</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;an example of a test failure&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_lies</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">test_increment</span><span class="p">():</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">increment</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">answer</span> <span class="o">==</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
<p>When you run the tests, your output will show a yellow <code class="docutils literal notranslate"><span class="pre">s</span></code> for skipped tests.</p>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest test_hello_world.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 3 items

test_hello_world.py <span class=" -Color -Color-Green">.</span><span class=" -Color -Color-Yellow">s</span><span class=" -Color -Color-Green">.</span>                                  <span class=" -Color -Color-Yellow">[100%]</span>

<span class=" -Color -Color-Yellow">================= </span><span class=" -Color -Color-Green">2 passed</span>, <span class=" -Color -Color-Bold -Color-Bold-Yellow">1 skipped</span><span class=" -Color -Color-Yellow"> in 0.00s =================</span>
</pre></div>
</div>
</section>
<section id="part-2-2-skipping-a-failure">
<h3><a class="toc-backref" href="#contents">Part 2.2: Skipping a failure</a><a class="headerlink" href="#part-2-2-skipping-a-failure" title="Permalink to this headline">#</a></h3>
<p>Another way to do the same thing is to mark it as an expected failure. It is
the same as above, except use <code class="docutils literal notranslate"><span class="pre">xfail</span></code> instead of <code class="docutils literal notranslate"><span class="pre">skip</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-number">Listing 535 </span><span class="caption-text">test_hello_world.py</span><a class="headerlink" href="#id17" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_truth</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;an example of a test failure&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_lies</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">test_increment</span><span class="p">():</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">increment</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">answer</span> <span class="o">==</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
<p>In the output, the skipped test will be marked with a yellow <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest test_hello_world.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 3 items

test_hello_world.py <span class=" -Color -Color-Green">.</span><span class=" -Color -Color-Yellow">x</span><span class=" -Color -Color-Green">.</span>                                  <span class=" -Color -Color-Yellow">[100%]</span>

<span class=" -Color -Color-Yellow">================= </span><span class=" -Color -Color-Green">2 passed</span>, <span class=" -Color -Color-Bold -Color-Bold-Yellow">1 xfailed</span><span class=" -Color -Color-Yellow"> in 0.03s =================</span>
</pre></div>
</div>
</section>
<section id="part-2-3-skipping-sometimes">
<h3><a class="toc-backref" href="#contents">Part 2.3: Skipping sometimes</a><a class="headerlink" href="#part-2-3-skipping-sometimes" title="Permalink to this headline">#</a></h3>
<p>Sometimes you may want to skip certain tests that only work in certain
environments. For example, based on a developers operating system or the
version of Python they are running.</p>
<p>In these cases the <code class="docutils literal notranslate"><span class="pre">skipif</span></code> decorator is useful. The first argument is the
condition under which to skip the test, then use the <code class="docutils literal notranslate"><span class="pre">reason</span></code> keyword argument
as usual.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">skipif</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;darwin&quot;</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;mac-specific testing&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_macos</span><span class="p">():</span>
  <span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="part-3-exception-handling">
<h2><a class="toc-backref" href="#contents">Part 3: Exception Handling</a><a class="headerlink" href="#part-3-exception-handling" title="Permalink to this headline">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.pytest.org/en/stable/reference/reference.html#pytest.raises">Pytest Docs &gt; pytest.raises</a></p></li>
<li><p><a class="reference external" href="https://docs.pytest.org/en/stable/how-to/assert.html#assertions-about-expected-exceptions">Pytest Docs &gt; Assertions about expected exceptions</a></p></li>
</ul>
</div>
</aside>
<p>Sometimes our program may raise exceptions on purpose, in which case we need to
be able to test those exceptions without causing the tests to fail.</p>
<section id="part-3-1-pytest-raises">
<h3><a class="toc-backref" href="#contents">Part 3.1: pytest.raises</a><a class="headerlink" href="#part-3-1-pytest-raises" title="Permalink to this headline">#</a></h3>
<p>To test for a raised exception use <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> as a context manager with
the code that is being tested inside of the context manager.</p>
<p>For example, the following code effectively asserts that when you call the
<code class="docutils literal notranslate"><span class="pre">do_quit()</span></code> function a <code class="docutils literal notranslate"><span class="pre">SystemExit</span></code> exception is raised. (Which is how most
Python programs exit, under the hood.)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">my_game</span> <span class="kn">import</span> <span class="n">do_quit</span>

<span class="k">def</span> <span class="nf">test_do_quit</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">SystemExit</span><span class="p">):</span>
      <span class="c1"># code to test</span>
      <span class="n">do_quit</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="part-3-1-exception-messages">
<h3><a class="toc-backref" href="#contents">Part 3.1: Exception messages</a><a class="headerlink" href="#part-3-1-exception-messages" title="Permalink to this headline">#</a></h3>
<p>Sometimes just checking the exception class isn’t enough – we have to test for
a specific exception message. For example, our program may raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>
in a function. However <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exceptions are very common.</p>
<p>In that case you can use the optional <code class="docutils literal notranslate"><span class="pre">as</span></code> part of the <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> context
manager to get the exception info, then run the code you wish to test as
before. Then <em>after</em> the with statement, you can add an assert statement on
<code class="docutils literal notranslate"><span class="pre">info.value</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">my_game</span> <span class="kn">import</span> <span class="n">inventory_remove</span>

<span class="k">def</span> <span class="nf">test_inventory_remove_with_invalid_argument</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">info</span><span class="p">:</span>
        <span class="c1"># code to test</span>
        <span class="n">inventory_remove</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

    <span class="c1"># check the exception message</span>
    <span class="n">message</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;inventory_remove() expected an item key (str).&quot;</span> <span class="ow">in</span> <span class="n">message</span>
</pre></div>
</div>
</section>
<section id="part-3-3-message-patterns">
<h3><a class="toc-backref" href="#contents">Part 3.3: Message patterns</a><a class="headerlink" href="#part-3-3-message-patterns" title="Permalink to this headline">#</a></h3>
<p>Another way to test the error message is to use the <code class="docutils literal notranslate"><span class="pre">match</span></code> keyword argument in
<code class="docutils literal notranslate"><span class="pre">pytest.raises()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">my_game</span> <span class="kn">import</span> <span class="n">Player</span>

<span class="k">def</span> <span class="nf">test_buy</span><span class="p">():</span>
    <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">gems</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">sword</span> <span class="o">=</span> <span class="n">Sword</span><span class="p">(</span><span class="n">price</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s2">&quot;you are 80 gems short&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">info</span><span class="p">:</span>
        <span class="c1"># code to test</span>
        <span class="n">player</span><span class="o">.</span><span class="n">buy</span><span class="p">(</span><span class="n">sword</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">match</span></code> argument can be a regular expression, so you could also do.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">my_game</span> <span class="kn">import</span> <span class="n">Player</span>

<span class="k">def</span> <span class="nf">test_buy</span><span class="p">():</span>
    <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">gems</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">sword</span> <span class="o">=</span> <span class="n">Sword</span><span class="p">(</span><span class="n">price</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;you are \d+ gems short&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">info</span><span class="p">:</span>
        <span class="c1"># code to test</span>
        <span class="n">player</span><span class="o">.</span><span class="n">buy</span><span class="p">(</span><span class="n">sword</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="part-4-testing-printed-output">
<h2><a class="toc-backref" href="#contents">Part 4: Testing printed output</a><a class="headerlink" href="#part-4-testing-printed-output" title="Permalink to this headline">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.pytest.org/en/stable/how-to/capture-stdout-stderr.html">Pytest Docs &gt; How to capture stdout/stderr output</a></p>
</div>
</aside>
<p>Sometimes we need to test not what is returned, but what is printed to the
screen. To do this we can use the special fixture (more on those later)
<code class="docutils literal notranslate"><span class="pre">capsys</span></code>.</p>
<section id="part-4-1-testing-stdout">
<h3><a class="toc-backref" href="#contents">Part 4.1: Testing stdout</a><a class="headerlink" href="#part-4-1-testing-stdout" title="Permalink to this headline">#</a></h3>
<p>When you call the <code class="docutils literal notranslate"><span class="pre">print()</span></code> function the string that you pass is sent to a
special file called <a class="reference internal" href="../../lessons/cli.html#term-stdout"><span class="xref std std-term">stdout</span></a> that your terminal knows to display to the
end user.</p>
<p>When we are testing something that prints to the screen, add <code class="docutils literal notranslate"><span class="pre">capsys</span></code> to the
function definition to let Pytest know that it should capture the system output
and save it for us.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_write</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
  <span class="n">write</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="n">lines_after</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
  <span class="n">output</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span><span class="o">.</span><span class="n">out</span>

  <span class="k">assert</span> <span class="n">output</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that every time you call <code class="docutils literal notranslate"><span class="pre">readouterr()</span></code> it sets the <code class="docutils literal notranslate"><span class="pre">out</span></code> attribute to all
of the content that has been sent to <code class="docutils literal notranslate"><span class="pre">stdout</span></code> since the function started or the
last time <code class="docutils literal notranslate"><span class="pre">readouterr()</span></code> was called.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">def</span> <span class="nf">test_stdout</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
<span class="linenos"> 2</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="hll"><span class="linenos"> 6</span>    <span class="n">output_1</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span><span class="o">.</span><span class="n">out</span>
</span><span class="linenos"> 7</span>
<span class="linenos"> 8</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="linenos">10</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="hll"><span class="linenos">12</span>    <span class="n">output_2</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span><span class="o">.</span><span class="n">out</span>
</span><span class="linenos">13</span>
<span class="linenos">14</span>    <span class="k">assert</span> <span class="n">output_1</span> <span class="o">==</span> <span class="s2">&quot;a</span><span class="se">\n</span><span class="s2">b</span><span class="se">\n</span><span class="s2">c</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="linenos">15</span>    <span class="k">assert</span> <span class="n">output_2</span> <span class="o">==</span> <span class="s2">&quot;x</span><span class="se">\n</span><span class="s2">y</span><span class="se">\n</span><span class="s2">z</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>In this example</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">output_1</span></code> on line <code class="docutils literal notranslate"><span class="pre">6</span></code> will contain what was printed on lines <code class="docutils literal notranslate"><span class="pre">2</span></code>-<code class="docutils literal notranslate"><span class="pre">4</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_2</span></code> on line <code class="docutils literal notranslate"><span class="pre">12</span></code> will contain what was printed on lines <code class="docutils literal notranslate"><span class="pre">8</span></code>-<code class="docutils literal notranslate"><span class="pre">10</span></code></p></li>
</ul>
</section>
<section id="part-4-2-testing-stderr">
<h3><a class="toc-backref" href="#contents">Part 4.2: Testing stderr</a><a class="headerlink" href="#part-4-2-testing-stderr" title="Permalink to this headline">#</a></h3>
<p>Many command line programs print errors to a separate special file called
<code class="docutils literal notranslate"><span class="pre">stderr</span></code>. This allows end users and other programs to do things that involve
handling error messages differently from normal program output. For example to
silence all errors or save a file that contains just the errors.</p>
<p>In Python, to print to <code class="docutils literal notranslate"><span class="pre">stderr</span></code> you simply include the <code class="docutils literal notranslate"><span class="pre">sys</span></code> module, then add
the keyword argument <code class="docutils literal notranslate"><span class="pre">file=sys.stderr</span></code> to your print statement.</p>
<p>Here’s an example <code class="docutils literal notranslate"><span class="pre">error()</span></code> function which adds a red <code class="docutils literal notranslate"><span class="pre">Error</span></code> string to the
beginning of the message then prints all arguments to <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x1b</span><span class="s2">[31mError</span><span class="se">\x1b</span><span class="s2">[0m&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
<p>To write a test for this we would use <code class="docutils literal notranslate"><span class="pre">capsys</span></code> just like before, but look for
<code class="docutils literal notranslate"><span class="pre">err</span></code> instead of <code class="docutils literal notranslate"><span class="pre">out</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_error</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
    <span class="n">error</span><span class="p">(</span><span class="s2">&quot;Please reconsider your life choices and try again.&quot;</span><span class="p">)</span>

    <span class="n">output</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span><span class="o">.</span><span class="n">err</span>

    <span class="k">assert</span> <span class="s2">&quot;reconsider&quot;</span> <span class="ow">in</span> <span class="n">output</span>
</pre></div>
</div>
</section>
<section id="part-4-3-testing-both">
<h3><a class="toc-backref" href="#contents">Part 4.3: Testing both</a><a class="headerlink" href="#part-4-3-testing-both" title="Permalink to this headline">#</a></h3>
<p>If you need to check what was printed to both <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code>, you need
to make sure that <code class="docutils literal notranslate"><span class="pre">readouterr()</span></code> is only called once. You can accomplish this
by assigning it to a variable.</p>
<p>Let’s say we’re testing a function that starts like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">do_thing</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;debug: Trying to do the thing:&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Which thing should I do?&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>In our test, we’ll save the result of <code class="docutils literal notranslate"><span class="pre">readouterr()</span></code> to the variable
<code class="docutils literal notranslate"><span class="pre">captured</span></code>, then check <code class="docutils literal notranslate"><span class="pre">captured.out</span></code> and <code class="docutils literal notranslate"><span class="pre">captured.err</span></code> in our assert
statements.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_do_thing</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
    <span class="n">do_thing</span><span class="p">()</span>

    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>

    <span class="k">assert</span> <span class="s2">&quot;Trying to do the thing&quot;</span> <span class="ow">in</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span>
    <span class="k">assert</span> <span class="s2">&quot;Which thing&quot;</span> <span class="ow">in</span> <span class="n">captured</span><span class="o">.</span><span class="n">err</span>
</pre></div>
</div>
</section>
</section>
<section id="part-5-parametrization">
<h2><a class="toc-backref" href="#contents">Part 5: Parametrization</a><a class="headerlink" href="#part-5-parametrization" title="Permalink to this headline">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.pytest.org/en/stable/how-to/parametrize.html#parametrize-basics">Pytest Docs &gt; How to parametrize fixtures and test functions</a></p>
</div>
</aside>
<p>Parametrization is used to combine the multiple test that are <em>almost</em> exactly
the same into one test with several <a class="reference internal" href="#term-test-case"><span class="xref std std-term">test cases</span></a> that are
stored and run as a list of arguments to a single test function.</p>
<section id="part-5-1-parametrize">
<h3><a class="toc-backref" href="#contents">Part 5.1: Parametrize</a><a class="headerlink" href="#part-5-1-parametrize" title="Permalink to this headline">#</a></h3>
<p>Remember our <code class="docutils literal notranslate"><span class="pre">can_drink()</span></code> function? Let’s say we were very responsible and
wrote a whole bunch of tests for it.</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-number">Listing 536 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id18" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">def</span> <span class="nf">test_can_drink_15</span><span class="p">():</span>
<span class="linenos"> 4</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="linenos"> 5</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">is_allowed</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="k">def</span> <span class="nf">test_can_drink_0</span><span class="p">():</span>
<span class="linenos"> 8</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">is_allowed</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="k">def</span> <span class="nf">test_can_drink_negative</span><span class="p">():</span>
<span class="linenos">12</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">13</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">is_allowed</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">def</span> <span class="nf">test_can_drink_float</span><span class="p">():</span>
<span class="linenos">16</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mf">17.5</span><span class="p">)</span>
<span class="linenos">17</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">is_allowed</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="k">def</span> <span class="nf">test_can_drink_21</span><span class="p">():</span>
<span class="linenos">20</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="k">assert</span> <span class="n">is_allowed</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="k">def</span> <span class="nf">test_can_drink_100</span><span class="p">():</span>
<span class="linenos">24</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos">25</span>    <span class="k">assert</span> <span class="n">is_allowed</span>
</pre></div>
</div>
</div>
<p>Parametrization allows us to collapse that down into just one test with a few
modifications.</p>
<section id="a-identify-differences">
<h4>A. Identify differences<a class="headerlink" href="#a-identify-differences" title="Permalink to this headline">#</a></h4>
<p>Identify what is different between the test functions.</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-number">Listing 537 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id19" title="Permalink to this code">#</a></div>
<div class="highlight-python-hl notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">def</span> <span class="nf">test_can_drink_15</span><span class="p">():</span>
<span class="linenos"> 4</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi mi-Highlight">15</span><span class="p">)</span>
<span class="linenos"> 5</span>    <span class="k">assert</span> <span class="ow ow-Highlight">not</span><span class=" -Highlight"> </span><span class="n n-Highlight">is_allowed</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="k">def</span> <span class="nf">test_can_drink_0</span><span class="p">():</span>
<span class="linenos"> 8</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi mi-Highlight">0</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="k">assert</span> <span class="ow ow-Highlight">not</span><span class=" -Highlight"> </span><span class="n n-Highlight">is_allowed</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="k">def</span> <span class="nf">test_can_drink_negative</span><span class="p">():</span>
<span class="linenos">12</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="o o-Highlight">-</span><span class="mi mi-Highlight">5</span><span class="p">)</span>
<span class="linenos">13</span>    <span class="k">assert</span> <span class="ow ow-Highlight">not</span><span class=" -Highlight"> </span><span class="n n-Highlight">is_allowed</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">def</span> <span class="nf">test_can_drink_float</span><span class="p">():</span>
<span class="linenos">16</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mf mf-Highlight">17.5</span><span class="p">)</span>
<span class="linenos">17</span>    <span class="k">assert</span> <span class="ow ow-Highlight">not</span><span class=" -Highlight"> </span><span class="n n-Highlight">is_allowed</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="k">def</span> <span class="nf">test_can_drink_21</span><span class="p">():</span>
<span class="linenos">20</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi mi-Highlight">21</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="k">assert</span> <span class="n n-Highlight">is_allowed</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="k">def</span> <span class="nf">test_can_drink_100</span><span class="p">():</span>
<span class="linenos">24</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="mi mi-Highlight">100</span><span class="p">)</span>
<span class="linenos">25</span>    <span class="k">assert</span> <span class="n n-Highlight">is_allowed</span>
</pre></div>
</div>
</div>
<p>You can see that there are two things that change in these tests:</p>
<ol class="simple">
<li><p>The age that is passed to <code class="docutils literal notranslate"><span class="pre">can_drink()</span></code></p></li>
<li><p>Whether we expect <code class="docutils literal notranslate"><span class="pre">can_drink()</span></code> to return <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ol>
</section>
<section id="b-add-age-variable">
<h4>B. Add <code class="docutils literal notranslate"><span class="pre">age</span></code> variable<a class="headerlink" href="#b-add-age-variable" title="Permalink to this headline">#</a></h4>
<p>We’ll parametrize the age passed to the <code class="docutils literal notranslate"><span class="pre">can_drink()</span></code> function.</p>
<ol class="simple">
<li><p>Replace the argument passed to <code class="docutils literal notranslate"><span class="pre">can_drink()</span></code> with a variable <code class="docutils literal notranslate"><span class="pre">age</span></code>.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">age</span></code> as a parameter in the declaration of <code class="docutils literal notranslate"><span class="pre">test_can_drink()</span></code>.</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-number">Listing 538 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id20" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos">2</span>
<span class="hll"><span class="linenos">3</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">4</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
</span><span class="linenos">5</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">is_allowed</span>
</pre></div>
</div>
</div>
</section>
<section id="c-add-expected-variable">
<h4>C. Add <code class="docutils literal notranslate"><span class="pre">expected</span></code> variable<a class="headerlink" href="#c-add-expected-variable" title="Permalink to this headline">#</a></h4>
<p>Next we’ll parametrize the expected return value.</p>
<ol class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">expected</span></code> as a parameter in the declaration of <code class="docutils literal notranslate"><span class="pre">test_can_drink()</span></code>.</p></li>
<li><p>Change the assert statement condition to <code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">expected</span></code> (instead of
<code class="docutils literal notranslate"><span class="pre">is_allowed</span></code> or <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">is_allowed</span></code>) .</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-number">Listing 539 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id21" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos">2</span>
<span class="hll"><span class="linenos">3</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
</span><span class="linenos">4</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="hll"><span class="linenos">5</span>    <span class="k">assert</span> <span class="n">is_allowed</span> <span class="o">==</span> <span class="n">expected</span>
</span></pre></div>
</div>
</div>
</section>
<section id="d-add-decorator">
<h4>D. Add decorator<a class="headerlink" href="#d-add-decorator" title="Permalink to this headline">#</a></h4>
<p>Setup the test for parametrization.</p>
<ol class="simple">
<li><p>Import <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.</p></li>
<li><p>Call <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.parametrize()</span></code> immediately above the test function.</p>
<ul class="simple">
<li><p>The first argument should be list containing the parameter names from the
test function, in this case <code class="docutils literal notranslate"><span class="pre">age</span></code> and <code class="docutils literal notranslate"><span class="pre">expected</span></code></p></li>
<li><p>The second will eventually list of tuples, but let’s start with an empty list</p></li>
</ul>
</li>
</ol>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-number">Listing 540 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id22" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos">4</span>
<span class="hll"><span class="linenos">5</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">([</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;expected&quot;</span><span class="p">],</span> <span class="p">[</span>
</span><span class="hll"><span class="linenos">6</span><span class="p">])</span>
</span><span class="linenos">7</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
<span class="linenos">8</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="linenos">9</span>    <span class="k">assert</span> <span class="n">is_allowed</span> <span class="o">==</span> <span class="n">expected</span>
</pre></div>
</div>
</div>
</section>
<section id="e-add-values-for-one-test">
<h4>E. Add values for one test<a class="headerlink" href="#e-add-values-for-one-test" title="Permalink to this headline">#</a></h4>
<p>Each tuple represents what would have been a test otherwise, called a
<a class="reference internal" href="#term-test-case"><span class="xref std std-term">test case</span></a>.</p>
<p>Each should contain the values for the variables in the same order they show up
in in the first argument and the function declaration, in this case the values
for <code class="docutils literal notranslate"><span class="pre">age</span></code> and <code class="docutils literal notranslate"><span class="pre">expected</span></code>.</p>
<p>If we look at the first test, above, those values are <code class="docutils literal notranslate"><span class="pre">15</span></code> for <code class="docutils literal notranslate"><span class="pre">age</span></code> and
<code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">expected</span></code>.</p>
<ol class="simple">
<li><p>Add a tuple to the empty list from above that contains the values <code class="docutils literal notranslate"><span class="pre">15</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p>Now you can run your tests and it should pass.</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-number">Listing 541 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id23" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">([</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;expected&quot;</span><span class="p">],</span> <span class="p">[</span>
<span class="hll"><span class="linenos"> 6</span>    <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
</span><span class="linenos"> 7</span><span class="p">])</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
<span class="linenos"> 9</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="linenos">10</span>    <span class="k">assert</span> <span class="n">is_allowed</span> <span class="o">==</span> <span class="n">expected</span>
</pre></div>
</div>
</div>
<p>As it is written now, this is functionally the same as <code class="docutils literal notranslate"><span class="pre">test_can_drink_15()</span></code>
from above. You should be able to run this test now.</p>
</section>
<section id="f-add-assert-message">
<h4>F. Add assert message<a class="headerlink" href="#f-add-assert-message" title="Permalink to this headline">#</a></h4>
<p>When using parametrization, it is helpful to have a different assert message
for each test case. That way if it does fail you can tell which one is the
problem.</p>
<ol class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">message</span></code> as a parameter in the declaration of <code class="docutils literal notranslate"><span class="pre">test_can_drink()</span></code>.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&quot;message&quot;</span></code> to the end of the list of variable names in the
<code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.paramaratize()</span></code> call</p></li>
<li><p>In the test add an assert message that that contains the variable <code class="docutils literal notranslate"><span class="pre">message</span></code></p></li>
<li><p>Add a string to the end of the test case tuple describing this specific case</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-number">Listing 542 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id24" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos"> 4</span>
<span class="hll"><span class="linenos"> 5</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">([</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;expected&quot;</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">],</span> <span class="p">[</span>
</span><span class="hll"><span class="linenos"> 6</span>    <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;False when age is less than 21&quot;</span><span class="p">),</span>
</span><span class="linenos"> 7</span><span class="p">])</span>
<span class="hll"><span class="linenos"> 8</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
</span><span class="linenos"> 9</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="hll"><span class="linenos">10</span>    <span class="k">assert</span> <span class="n">is_allowed</span> <span class="o">==</span> <span class="n">expected</span><span class="p">,</span> \
</span><span class="hll"><span class="linenos">11</span>        <span class="sa">f</span><span class="s2">&quot;can_drink() should return </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span>
</span></pre></div>
</div>
</div>
</section>
<section id="g-add-remaining-test-cases">
<h4>G. Add remaining test cases<a class="headerlink" href="#g-add-remaining-test-cases" title="Permalink to this headline">#</a></h4>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-number">Listing 543 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id25" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">([</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;expected&quot;</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">],</span> <span class="p">[</span>
<span class="linenos"> 6</span>    <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;False when age is less than 21&quot;</span><span class="p">),</span>
<span class="hll"><span class="linenos"> 7</span>    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;False when age is zero&quot;</span><span class="p">),</span>
</span><span class="hll"><span class="linenos"> 8</span>    <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;False when age is a negative int&quot;</span><span class="p">),</span>
</span><span class="hll"><span class="linenos"> 9</span>    <span class="p">(</span><span class="mf">17.5</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;False when age is a negative float&quot;</span><span class="p">),</span>
</span><span class="hll"><span class="linenos">10</span>    <span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;True when age is exactly 21&quot;</span><span class="p">),</span>
</span><span class="hll"><span class="linenos">11</span>    <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;True when age is over 21&quot;</span><span class="p">),</span>
</span><span class="linenos">12</span><span class="p">])</span>
<span class="linenos">13</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
<span class="linenos">14</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="linenos">15</span>    <span class="k">assert</span> <span class="n">is_allowed</span> <span class="o">==</span> <span class="n">expected</span><span class="p">,</span> \
<span class="linenos">16</span>        <span class="sa">f</span><span class="s2">&quot;can_drink() should return </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="h-run-the-tests">
<h4>H. Run the tests<a class="headerlink" href="#h-run-the-tests" title="Permalink to this headline">#</a></h4>
<p>If you run your tests in verbose mode with the <code class="docutils literal notranslate"><span class="pre">-v</span></code> flag, you will see a line
for each test case with the values from each tuple inside brackets and
separated by dashes. (I truncated the commit message here for formatting
purposes, but your test output will show the whole thing.)</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-number">Listing 544 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id26" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest -v test_my_project.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 6 items

test_my_project.py::test_can_drink[15-False-False...] <span class=" -Color -Color-Green">PASSED</span>    <span class=" -Color -Color-Green">[ 16%]</span>
test_my_project.py::test_can_drink[0-False-False...] <span class=" -Color -Color-Green">PASSED</span>     <span class=" -Color -Color-Green">[ 33%]</span>
test_my_project.py::test_can_drink[-5-False-False...] <span class=" -Color -Color-Green">PASSED</span>    <span class=" -Color -Color-Green">[ 50%]</span>
test_my_project.py::test_can_drink[17.5-False-False...] <span class=" -Color -Color-Green">PASSED</span>  <span class=" -Color -Color-Green">[ 66%]</span>
test_my_project.py::test_can_drink[21-True-True...] <span class=" -Color -Color-Green">PASSED</span>      <span class=" -Color -Color-Green">[ 83%]</span>
test_my_project.py::test_can_drink[100-True-True...] <span class=" -Color -Color-Green">PASSED</span>     <span class=" -Color -Color-Green">[100%]</span>

<span class=" -Color -Color-Green">====================== </span><span class=" -Color -Color-Bold -Color-Bold-Green">6 passed</span><span class=" -Color -Color-Green"> in 0.01s =======================</span>
</pre></div>
</div>
</div>
</section>
<section id="i-failing-test-output">
<h4>I. Failing test output<a class="headerlink" href="#i-failing-test-output" title="Permalink to this headline">#</a></h4>
<p>Here’s an example of what it looks like when a parametrized test fails.</p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-number">Listing 545 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id27" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest -v test_my_project.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 6 items

test_my_project.py::test_can_drink[15-False-False...] <span class=" -Color -Color-Green">PASSED</span>    <span class=" -Color -Color-Green">[ 16%]</span>
test_my_project.py::test_can_drink[0-False-False...] <span class=" -Color -Color-Green">PASSED</span>     <span class=" -Color -Color-Green">[ 33%]</span>
test_my_project.py::test_can_drink[-5-False-False...] <span class=" -Color -Color-Green">PASSED</span>    <span class=" -Color -Color-Green">[ 50%]</span>

=========================== FAILURES ===========================
<span class="hll"><span class=" -Color -Color-Bold -Color-Bold-Red">___ test_can_drink[-5-True-False when age is a negative int] ___</span>
</span>
<span class="hll">age = -5, expected = True
</span><span class="hll">message = &#39;False when age is a negative int&#39;
</span>
    @pytest.mark.parametrize([&quot;age&quot;, &quot;expected&quot;, &quot;message&quot;], [
        (15, False, &quot;False when age is less than 21&quot;),
        (0, False, &quot;False when age is zero&quot;),
        (-5, True, &quot;False when age is a negative int&quot;),
        (17.5, False, &quot;False when age is a negative float&quot;),
        (21, True, &quot;True when age is exactly 21&quot;),
        (100, True, &quot;True when age is over 21&quot;),
    ])
    def test_can_drink(age, expected, message):
        is_allowed = can_drink(age)
&gt;       assert is_allowed == expected, \
            f&quot;can_drink() should return {message}&quot;
<span class=" -Color -Color-Bold -Color-Bold-Red">E       AssertionError: can_drink() should return False when age is a negative int</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert == failed. [pytest-clarity diff shown]</span>
E
<span class=" -Color -Color-Bold -Color-Bold-Red">E         LHS vs RHS shown below</span>
E
<span class=" -Color -Color-Bold -Color-Bold-Red">E         False</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E         True</span>
E

<span class=" -Color -Color-Bold -Color-Bold-Red">test_my_project.py</span>:24: AssertionError
<span class=" -Color -Color-Bold -Color-Bold-Cyan">=================== short test summary info ====================</span>
<span class="hll"><span class=" -Color -Color-Red">FAILED</span> test_my_project.py::<span class=" -Color -Color-Bold">test_can_drink[-5-True-False when age is a negative int]</span> - AssertionError: can_drink() should return False when age is...
</span>!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!
<span class=" -Color -Color-Red">================= </span><span class=" -Color -Color-Bold -Color-Bold-Red">1 failed</span>, <span class=" -Color -Color-Green">2 passed</span><span class=" -Color -Color-Red"> in 0.08s ==================</span>
</pre></div>
</div>
</div>
<p>You can figure out which test is failing by looking at:</p>
<ul class="simple">
<li><p>The line starting with <code class="docutils literal notranslate"><span class="pre">___</span> <span class="pre">test_can_drink</span></code> contains the parameters values in brackets separated by dashes</p></li>
<li><p>The lines immediately after that contain the more easily readable parameter names and values.</p></li>
<li><p>The line starting with <code class="docutils literal notranslate"><span class="pre">FAILED</span></code> in the test summary contains the parameters values in brackets separated by dashes</p></li>
</ul>
</section>
</section>
<section id="part-5-2-skipping-instances">
<h3><a class="toc-backref" href="#contents">Part 5.2: Skipping instances</a><a class="headerlink" href="#part-5-2-skipping-instances" title="Permalink to this headline">#</a></h3>
<p>You may want to include test cases that you know will fail to, for example,
document something that is broken or not supported.</p>
<p>To do this, make a test instance that calls <code class="docutils literal notranslate"><span class="pre">pytest.param()</span></code> (instead of a
tuple) and include the keyword argument <code class="docutils literal notranslate"><span class="pre">marks=pytest.mark.xfail</span></code> to indicate
that it will fail.</p>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-number">Listing 546 </span><span class="caption-text">test_my_project.py</span><a class="headerlink" href="#id28" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">my_project.main</span> <span class="kn">import</span> <span class="n">can_drink</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
<span class="linenos"> 6</span>    <span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;expected&quot;</span><span class="p">],</span> <span class="p">[</span>
<span class="linenos"> 7</span>        <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="linenos"> 8</span>        <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="linenos"> 9</span>        <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="linenos">10</span>        <span class="p">(</span><span class="mf">17.5</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="linenos">11</span>        <span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="linenos">12</span>        <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="hll"><span class="linenos">13</span>        <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="s2">&quot;100&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">),</span>
</span><span class="linenos">14</span>
<span class="linenos">15</span><span class="p">])</span>
<span class="linenos">16</span><span class="k">def</span> <span class="nf">test_can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
<span class="linenos">17</span>    <span class="n">is_allowed</span> <span class="o">=</span> <span class="n">can_drink</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="linenos">18</span>    <span class="k">assert</span> <span class="n">is_allowed</span> <span class="o">==</span> <span class="n">expected</span>
</pre></div>
</div>
</div>
<p>In this example we add a failing test case for passing a string to
<code class="docutils literal notranslate"><span class="pre">can_drink()</span></code> since it’s not supported. (<code class="docutils literal notranslate"><span class="pre">expected</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, but it doesn’t
matter because the exception will happen on line <code class="docutils literal notranslate"><span class="pre">17</span></code>.)</p>
<p>When we run the tests in verbose mode Pytest will indicate that that test was
marked as <code class="docutils literal notranslate"><span class="pre">XFAIL</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-number">Listing 547 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id29" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest -v test_my_project.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 7 items

test_my_project.py::test_can_drink[15-False] <span class=" -Color -Color-Green">PASSED</span>      <span class=" -Color -Color-Green">[ 14%]</span>
test_my_project.py::test_can_drink[0-False] <span class=" -Color -Color-Green">PASSED</span>       <span class=" -Color -Color-Green">[ 28%]</span>
test_my_project.py::test_can_drink[-5-False] <span class=" -Color -Color-Green">PASSED</span>      <span class=" -Color -Color-Green">[ 42%]</span>
test_my_project.py::test_can_drink[17.5-False] <span class=" -Color -Color-Green">PASSED</span>    <span class=" -Color -Color-Green">[ 57%]</span>
test_my_project.py::test_can_drink[21-True] <span class=" -Color -Color-Green">PASSED</span>       <span class=" -Color -Color-Green">[ 71%]</span>
test_my_project.py::test_can_drink[100-True] <span class=" -Color -Color-Green">PASSED</span>      <span class=" -Color -Color-Green">[ 85%]</span>
<span class="hll">test_my_project.py::test_can_drink[100-None] <span class=" -Color -Color-Yellow">XFAIL</span>       <span class=" -Color -Color-Yellow">[100%]</span>
</span>
<span class=" -Color -Color-Yellow">================= </span><span class=" -Color -Color-Green">6 passed</span>, <span class=" -Color -Color-Bold -Color-Bold-Yellow">1 xfailed</span><span class=" -Color -Color-Yellow"> in 0.02s =================</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="part-6-setup-and-teardown">
<h2><a class="toc-backref" href="#contents">Part 6: Setup and Teardown</a><a class="headerlink" href="#part-6-setup-and-teardown" title="Permalink to this headline">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.pytest.org/en/6.2.x/xunit_setup.html">Pytest Docs &gt; classic xunit-style setup</a></p>
</div>
</aside>
<p>For tests that depend on information from the environment, it is important that each
test start with a clean slate. This is generally accomplished with setup and
teardown code–that is, code designated to run at the start and end of a
particular process.</p>
<p>In this section we’ll talk about a couple of the different ways that you can do
this in Pytest tests.</p>
<section id="part-6-1-per-module-setup-teardown-functions">
<h3><a class="toc-backref" href="#contents">Part 6.1: Per-module setup/teardown functions</a><a class="headerlink" href="#part-6-1-per-module-setup-teardown-functions" title="Permalink to this headline">#</a></h3>
<p>Some setup or teardown steps only need to be done once per module (or file).
For example, you may need to open and close a connection to a database, create
and delete temporary directories, load the contents of a file, or initialize
global variables.</p>
<p>In Pytest tests you can do this by simply defining a <code class="docutils literal notranslate"><span class="pre">setup_module()</span></code> function
which will be executed once per file before all tests and/or a
<code class="docutils literal notranslate"><span class="pre">teardown_module()</span></code> which will be run once per file after all tests.</p>
<p>Here is an example that loads json files (downloaded from
<code class="docutils literal notranslate"><span class="pre">https://jsonplaceholder.typicode.com/</span></code>) and stores the data in a global
variable <code class="docutils literal notranslate"><span class="pre">STATE</span></code> which test all test functions can access.</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-number">Listing 548 </span><span class="caption-text">test_setup_teardown.py</span><a class="headerlink" href="#id30" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">json</span>
<span class="linenos"> 3</span>
<span class="hll"><span class="linenos"> 4</span><span class="k">def</span> <span class="nf">setup_module</span><span class="p">(</span><span class="n">module</span><span class="p">):</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize STATE global variable and load from json testdata.&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos"> 6</span>    <span class="k">global</span> <span class="n">STATE</span>
</span><span class="hll"><span class="linenos"> 7</span>    <span class="n">STATE</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class="hll"><span class="linenos"> 8</span>
</span><span class="hll"><span class="linenos"> 9</span>    <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="s2">&quot;todos&quot;</span><span class="p">]:</span>
</span><span class="hll"><span class="linenos">10</span>        <span class="n">file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;.data&quot;</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource</span><span class="si">}</span><span class="s2">.json&quot;</span>
</span><span class="hll"><span class="linenos">11</span>        <span class="k">with</span> <span class="n">file</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">12</span>            <span class="n">STATE</span><span class="p">[</span><span class="n">resource</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
</span><span class="linenos">13</span>
<span class="linenos">14</span><span class="k">def</span> <span class="nf">test_user</span><span class="p">():</span>
<span class="linenos">15</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the first user was loaded from the users.json file.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">16</span>    <span class="n">user</span> <span class="o">=</span> <span class="n">STATE</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">17</span>
<span class="linenos">18</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">19</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Leanne Graham&quot;</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="k">def</span> <span class="nf">test_todo</span><span class="p">():</span>
<span class="linenos">22</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the first todo was loaded from the todos.json file.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">23</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">STATE</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">24</span>
<span class="linenos">25</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">26</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;delectus aut autem&quot;</span>
<span class="linenos">27</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="part-6-2-per-test-setup-teardown-functions">
<h3><a class="toc-backref" href="#contents">Part 6.2: Per-test setup/teardown functions</a><a class="headerlink" href="#part-6-2-per-test-setup-teardown-functions" title="Permalink to this headline">#</a></h3>
<p>It is important to start each test with a clean slate to avoid test corruption.</p>
<section id="a-test-corruption">
<h4>A. Test corruption<a class="headerlink" href="#a-test-corruption" title="Permalink to this headline">#</a></h4>
<p>Test corruption is when changes made to to one test unexpectedly breaks other
tests.</p>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-number">Listing 549 </span><span class="caption-text">test_setup_teardown.py</span><a class="headerlink" href="#id31" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">28</span><span class="k">def</span> <span class="nf">test_modify_state</span><span class="p">():</span>
<span class="linenos">29</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Change the STATE data&quot;&quot;&quot;</span>
<span class="linenos">30</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">STATE</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="hll"><span class="linenos">31</span>    <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span class="linenos">32</span>
<span class="linenos">33</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
<span class="linenos">34</span>
<span class="linenos">35</span><span class="k">def</span> <span class="nf">test_check_modified_state</span><span class="p">():</span>
<span class="linenos">36</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the same data that was modified above.&quot;&quot;&quot;</span>
<span class="linenos">37</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">STATE</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos">38</span>
<span class="hll"><span class="linenos">39</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
</span></pre></div>
</div>
</div>
<p>When run <code class="docutils literal notranslate"><span class="pre">test_check_modified_state()</span></code> will fail because <code class="docutils literal notranslate"><span class="pre">todo[&quot;completed&quot;]</span></code>
was changed in the previous test.</p>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-number">Listing 550 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id32" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest -v test_setup_teardown.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 4 items

tests/test_setup_teardown.py <span class=" -Color -Color-Green">...</span><span class=" -Color -Color-Red">F</span>                        <span class=" -Color -Color-Red">[100%]</span>

=========================== FAILURES ===========================
<span class=" -Color -Color-Bold -Color-Bold-Red">__________________ test_check_modified_state ___________________</span>

    def test_check_modified_state():
        &quot;&quot;&quot;Check the same data that was modified above.&quot;&quot;&quot;
        todo = STATE[&quot;todos&quot;][0]

&gt;       assert not todo[&quot;completed&quot;]
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert not True</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">tests/test_setup_teardown.py</span>:41: AssertionError
<span class=" -Color -Color-Bold -Color-Bold-Cyan">=================== short test summary info ====================</span>
<span class=" -Color -Color-Red">FAILED</span> tests/test_setup_teardown.py::<span class=" -Color -Color-Bold">test_check_modified_state</span> - assert not True
<span class=" -Color -Color-Red">================= </span><span class=" -Color -Color-Bold -Color-Bold-Red">1 failed</span>, <span class=" -Color -Color-Green">3 passed</span><span class=" -Color -Color-Red"> in 0.05s ==================</span>
</pre></div>
</div>
</div>
</section>
<section id="b-define-setup-function">
<h4>B. Define <code class="docutils literal notranslate"><span class="pre">setup_function()</span></code><a class="headerlink" href="#b-define-setup-function" title="Permalink to this headline">#</a></h4>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Sequence objects have a <code class="docutils literal notranslate"><span class="pre">.copy()</span></code> method that makes a shallow copy. That means
that any nested objects are copied as references, so if you change the contents
of the child object in the copy it will also change the contents of the child
object in the original.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">deepcopy()</span></code> to make copies of all nested child objects and contents
recursively.</p>
</div>
</aside>
<p>To avoid this we will define a <code class="docutils literal notranslate"><span class="pre">setup_function()</span></code> function which will be run
before each test.</p>
<p>This setup function will copy the data saved in the <code class="docutils literal notranslate"><span class="pre">STATE</span></code> variable to a new
global variable <code class="docutils literal notranslate"><span class="pre">DATA</span></code>. The tests will then look at and make any changes to
<code class="docutils literal notranslate"><span class="pre">DATA</span></code> and leave <code class="docutils literal notranslate"><span class="pre">STATE</span></code> alone.</p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-number">Listing 551 </span><span class="caption-text">test_setup_teardown.py</span><a class="headerlink" href="#id33" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="hll"><span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
</span><span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">json</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">def</span> <span class="nf">setup_module</span><span class="p">(</span><span class="n">module</span><span class="p">):</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize STATE global variable and load from json testdata.&quot;&quot;&quot;</span>
<span class="linenos"> 7</span>    <span class="k">global</span> <span class="n">STATE</span>
<span class="linenos"> 8</span>    <span class="n">STATE</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="s2">&quot;todos&quot;</span><span class="p">]:</span>
<span class="linenos">11</span>        <span class="n">file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;.data&quot;</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource</span><span class="si">}</span><span class="s2">.json&quot;</span>
<span class="linenos">12</span>        <span class="k">with</span> <span class="n">file</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
<span class="linenos">13</span>            <span class="n">STATE</span><span class="p">[</span><span class="n">resource</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
<span class="linenos">14</span>
<span class="hll"><span class="linenos">15</span><span class="k">def</span> <span class="nf">setup_function</span><span class="p">(</span><span class="n">function</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">16</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Revert data to its original state before each test.&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">17</span>    <span class="k">global</span> <span class="n">DATA</span>
</span><span class="hll"><span class="linenos">18</span>    <span class="n">DATA</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">STATE</span><span class="p">)</span>
</span><span class="linenos">19</span>
<span class="linenos">20</span><span class="k">def</span> <span class="nf">test_user</span><span class="p">():</span>
<span class="linenos">21</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the first user was loaded from the users.json file.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">22</span>    <span class="n">user</span> <span class="o">=</span> <span class="n">DATA</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">23</span>
<span class="linenos">24</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">25</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Leanne Graham&quot;</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="k">def</span> <span class="nf">test_todo</span><span class="p">():</span>
<span class="linenos">28</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the first todo was loaded from the todos.json file.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">29</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">DATA</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">30</span>
<span class="linenos">31</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">32</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;delectus aut autem&quot;</span>
<span class="linenos">33</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
<span class="linenos">34</span>
<span class="linenos">35</span><span class="k">def</span> <span class="nf">test_modify_state</span><span class="p">():</span>
<span class="linenos">36</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Change the DATA data&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">37</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">DATA</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">38</span>    <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">39</span>
<span class="linenos">40</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="k">def</span> <span class="nf">test_check_modified_state</span><span class="p">():</span>
<span class="linenos">43</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the same data that was modified above.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">44</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">DATA</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">45</span>
<span class="linenos">46</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>Now that each test starts with the same known set of data, all the tests pass.</p>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-number">Listing 552 </span><span class="caption-text">command line output</span><a class="headerlink" href="#id34" title="Permalink to this code">#</a></div>
<div class="highlight-pytest notranslate"><div class="highlight"><pre><span></span>$ pytest -v test_setup_teardown.py
<span class=" -Color -Color-Bold">===================== test session starts ======================</span>
platform darwin -- Python 3.9.1, pytest-7.0.1, pluggy-1.0.0
cachedir: .pytest_cache
rootdir: ~/python-class, configfile: pyproject.toml
plugins: pylama-8.3.7, typeguard-2.13.3
collected 4 items

tests/test_setup_teardown.py <span class=" -Color -Color-Green">....</span>                        <span class=" -Color -Color-Green">[100%]</span>

<span class=" -Color -Color-Green">====================== </span><span class=" -Color -Color-Bold -Color-Bold-Green">4 passed</span><span class=" -Color -Color-Green"> in 0.01s =======================</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="part-7-fixtures">
<h2><a class="toc-backref" href="#contents">Part 7: Fixtures</a><a class="headerlink" href="#part-7-fixtures" title="Permalink to this headline">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.pytest.org/en/stable/how-to/fixtures.html">Pytest Docs &gt; How to use fixtures</a></p>
</div>
</aside>
<p>In tests we often need to do similar setup in many tests. As a project becomes
larger, it becomes unwieldy to come up with sample data over and over again.</p>
<p><a class="reference internal" href="#term-fixture"><span class="xref std std-term">Fixtures</span></a> are one way to approach this problem. In general
terms, fixtures are the shared context of the <a class="reference internal" href="#term-test-suite"><span class="xref std std-term">test suite</span></a>. In fact, you
the setup and teardown functions from <a class="reference external" href="#part-6-setup-and-teardown">Part 6</a> are
one example of fixtures in the most general sense.</p>
<p>Different languages and testing frameworks have different systems for
supporting fixtures, usually involving some form of setup/teardown.
Traditionally though, the term fixture refers to a single record of test
data–for example a single user dictionary from <code class="docutils literal notranslate"><span class="pre">DATA</span></code>.</p>
<p>Pytest has a unique and powerful approach to fixtures which can entirely
replace setup and teardown functions. It might take a minute to wrap your head
around it though.</p>
<section id="part-7-1-basic-fixture">
<h3><a class="toc-backref" href="#contents">Part 7.1: Basic Fixture</a><a class="headerlink" href="#part-7-1-basic-fixture" title="Permalink to this headline">#</a></h3>
<p>In Pytest fixtures are set up as functions decorated with the <code class="docutils literal notranslate"><span class="pre">&#64;pytest.fixture</span></code>
decorator and the return value is the fixture data itself.</p>
<p>Tests request a fixtures by declaring them as parameters, which can then be
used in the function like a variable.</p>
<p>Here’s an example of the <a class="reference internal" href="#term-hello-world"><span class="xref std std-term">“Hello World”</span></a> of Pytest fixtures.</p>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-number">Listing 553 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id35" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="linenos">4</span><span class="k">def</span> <span class="nf">true</span><span class="p">():</span>
<span class="linenos">5</span>    <span class="k">return</span> <span class="kc">True</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="k">def</span> <span class="nf">test_truth</span><span class="p">(</span><span class="n">true</span><span class="p">):</span>
<span class="linenos">8</span>    <span class="k">assert</span> <span class="n">true</span> <span class="o">==</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<p>Let’s take a closer look.</p>
<div class="row"><div class="col left-col">
<p>1. First we import <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.</p>
</div><div class="col">
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-number">Listing 554 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id36" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">import</span> <span class="nn">pytest</span>
</pre></div>
</div>
</div>
</div></div><div class="row"><div class="col right-col">
<p>2. The decorator <code class="docutils literal notranslate"><span class="pre">&#64;pytest.fixture</span></code> tells Pytest to treat the next function as a fixture.</p>
</div><div class="col">
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-number">Listing 555 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id37" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">3</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
</span><span class="linenos">4</span><span class="k">def</span> <span class="nf">true</span><span class="p">():</span>
<span class="linenos">5</span>    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div></div><div class="row"><div class="col right-col">
<p>3. The return value from the fixture function is the fixture value.</p>
<p>In this case the name of the fixture is <code class="docutils literal notranslate"><span class="pre">true</span></code> and the value is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div><div class="col">
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-number">Listing 556 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id38" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">3</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="hll"><span class="linenos">4</span><span class="k">def</span> <span class="nf">true</span><span class="p">():</span>
</span><span class="hll"><span class="linenos">5</span>    <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>
</div>
</div>
</div></div><div class="row"><div class="col right-col">
<p>4. The test requests a fixture by declaring the fixture name as a parameter in the
test function.</p>
<p>In this case the fixture named <code class="docutils literal notranslate"><span class="pre">true</span></code> is added as a parameter <code class="docutils literal notranslate"><span class="pre">test_truth()</span></code>
test.</p>
</div><div class="col">
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-number">Listing 557 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id39" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">7</span><span class="k">def</span> <span class="nf">test_truth</span><span class="p">(</span><span class="n">true</span><span class="p">):</span>
</span><span class="linenos">8</span>    <span class="k">assert</span> <span class="n">true</span> <span class="o">==</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div></div><div class="row"><div class="col right-col">
<p>5. Finally, we use the fixture name in the test the same way we would any
other variable.</p>
</div><div class="col">
<div class="literal-block-wrapper docutils container" id="id40">
<div class="code-block-caption"><span class="caption-number">Listing 558 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id40" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">7</span><span class="k">def</span> <span class="nf">test_truth</span><span class="p">(</span><span class="n">true</span><span class="p">):</span>
<span class="hll"><span class="linenos">8</span>    <span class="k">assert</span> <span class="n">true</span> <span class="o">==</span> <span class="kc">True</span>
</span></pre></div>
</div>
</div>
</div></div>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">#</a></h4>
<p>Fixtures can be used to store reusable data of all kinds, from strings to
dictionaries to <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code> objects.</p>
<div class="literal-block-wrapper docutils container" id="id41">
<div class="code-block-caption"><span class="caption-number">Listing 559 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id41" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="linenos"> 6</span><span class="k">def</span> <span class="nf">true</span><span class="p">():</span>
<span class="linenos"> 7</span>    <span class="k">return</span> <span class="kc">True</span>
<span class="linenos"> 8</span>
<span class="hll"><span class="linenos"> 9</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
</span><span class="hll"><span class="linenos">10</span><span class="k">def</span> <span class="nf">bret</span><span class="p">():</span>
</span><span class="hll"><span class="linenos">11</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;A user dictionary&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">12</span>    <span class="k">return</span> <span class="p">{</span>
</span><span class="hll"><span class="linenos">13</span>    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">14</span>    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Leanne Graham&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">15</span>    <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Bret&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">16</span>    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;Sincere@april.biz&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">17</span>  <span class="p">}</span>
</span><span class="linenos">18</span>
<span class="hll"><span class="linenos">19</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
</span><span class="hll"><span class="linenos">20</span><span class="k">def</span> <span class="nf">fixturedir</span><span class="p">():</span>
</span><span class="hll"><span class="linenos">21</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Path object to fixture data files&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">22</span>    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;.data&quot;</span>
</span><span class="linenos">23</span>
<span class="linenos">24</span><span class="k">def</span> <span class="nf">test_truth</span><span class="p">(</span><span class="n">true</span><span class="p">):</span>
<span class="linenos">25</span>    <span class="k">assert</span> <span class="n">true</span> <span class="o">==</span> <span class="kc">True</span>
<span class="linenos">26</span>
<span class="hll"><span class="linenos">27</span><span class="k">def</span> <span class="nf">test_something_with_a_user</span><span class="p">(</span><span class="n">bret</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">28</span>    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">bret</span><span class="p">)</span>
</span><span class="linenos">29</span>    <span class="k">assert</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">30</span>
<span class="hll"><span class="linenos">31</span><span class="k">def</span> <span class="nf">test_something_from_fixturedir</span><span class="p">(</span><span class="n">fixturedir</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">32</span>    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">fixturedir</span><span class="o">/</span><span class="s2">&quot;users.json&quot;</span><span class="p">)</span>
</span><span class="linenos">33</span>    <span class="k">assert</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="part-7-2-fixtures-requesting-fixtures">
<h3><a class="toc-backref" href="#contents">Part 7.2: Fixtures Requesting Fixtures</a><a class="headerlink" href="#part-7-2-fixtures-requesting-fixtures" title="Permalink to this headline">#</a></h3>
<p>The same way that a test can request a fixture, a fixture can request another
fixture–by declaring it as a parameter to the fixture function.</p>
<div class="literal-block-wrapper docutils container" id="id42">
<div class="code-block-caption"><span class="caption-number">Listing 560 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id42" title="Permalink to this code">#</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">json</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">fixturesdir</span><span class="p">():</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the Path object to the directory where fixture files are stored.&quot;&quot;&quot;</span>
<span class="linenos">10</span>    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;.data&quot;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="hll"><span class="linenos">14</span><span class="k">def</span> <span class="nf">users_file</span><span class="p">(</span><span class="n">fixturesdir</span><span class="p">):</span>
</span><span class="linenos">15</span>    <span class="k">return</span> <span class="n">fixturesdir</span> <span class="o">/</span> <span class="s2">&quot;users.json&quot;</span>
<span class="linenos">16</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="hll"><span class="linenos">19</span><span class="k">def</span> <span class="nf">users</span><span class="p">(</span><span class="n">users_file</span><span class="p">):</span>
</span><span class="linenos">20</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return &quot;&quot;&quot;</span>
<span class="linenos">21</span>    <span class="k">with</span> <span class="n">users_file</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
<span class="linenos">22</span>        <span class="n">users</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span>    <span class="k">return</span> <span class="n">users</span>
<span class="linenos">25</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="k">def</span> <span class="nf">test_user</span><span class="p">(</span><span class="n">users</span><span class="p">):</span>
<span class="linenos">28</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the first user was loaded from the users.json file.&quot;&quot;&quot;</span>
<span class="linenos">29</span>    <span class="n">user</span> <span class="o">=</span> <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos">30</span>
<span class="linenos">31</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">32</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Leanne Graham&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="part-7-3-scope">
<h3><a class="toc-backref" href="#contents">Part 7.3: Scope</a><a class="headerlink" href="#part-7-3-scope" title="Permalink to this headline">#</a></h3>
<p>In Pytest you can choose what <a class="reference internal" href="#term-fixture-scope"><span class="xref std std-term">scope</span></a> a fixture is in–that is, at what
level tests should share the fixture before it is destroyed. To do this pass
<code class="samp docutils literal notranslate"><span class="pre">scope=</span><em><span class="pre">SCOPE</span></em></code> to the <code class="docutils literal notranslate"><span class="pre">&#64;pytest.fixture()</span></code> decorator.</p>
<div class="literal-block-wrapper docutils container" id="id43">
<div class="code-block-caption"><span class="caption-number">Listing 561 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id43" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">1</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;module&quot;</span><span class="p">)</span>
</span><span class="linenos">2</span><span class="k">def</span> <span class="nf">my_fixture</span><span class="p">():</span>
<span class="linenos">3</span>  <span class="o">...</span>
</pre></div>
</div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Scope</p></th>
<th class="head"><p>Shared with</p></th>
<th class="head"><p>When Fixture is Destroyed</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>function</strong></p></td>
<td><p>a single test function <em>default</em></p></td>
<td><p>end of each test</p></td>
</tr>
<tr class="row-odd"><td><p><strong>class</strong></p></td>
<td><p>all test methods in a class</p></td>
<td><p>last test in the class</p></td>
</tr>
<tr class="row-even"><td><p><strong>module</strong></p></td>
<td><p>all tests in a module (file)</p></td>
<td><p>last test in the module</p></td>
</tr>
<tr class="row-odd"><td><p><strong>package</strong></p></td>
<td><p>all tests in the package (directory)</p></td>
<td><p>last test in the package</p></td>
</tr>
<tr class="row-even"><td><p><strong>session</strong></p></td>
<td><p>all tests to be run</p></td>
<td><p>last test to be run</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">STATE</span></code> and <code class="docutils literal notranslate"><span class="pre">DATA</span></code> setup and teardown could be written using fixtures instead.</p>
<div class="literal-block-wrapper docutils container" id="id44">
<div class="code-block-caption"><span class="caption-number">Listing 562 </span><span class="caption-text">test_fixtures.py</span><a class="headerlink" href="#id44" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">json</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>
<span class="hll"><span class="linenos"> 8</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;module&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="k">def</span> <span class="nf">state</span><span class="p">():</span>
</span><span class="hll"><span class="linenos">10</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Load state from json testdata.&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">11</span>    <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class="hll"><span class="linenos">12</span>
</span><span class="hll"><span class="linenos">13</span>    <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="s2">&quot;todos&quot;</span><span class="p">]:</span>
</span><span class="hll"><span class="linenos">14</span>        <span class="c1">#  file = Path(__file__).parent / &quot;.data&quot; / f&quot;{resource}.json&quot;</span>
</span><span class="hll"><span class="linenos">15</span>        <span class="n">file</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource</span><span class="si">}</span><span class="s2">.json&quot;</span>
</span><span class="hll"><span class="linenos">16</span>        <span class="k">with</span> <span class="n">file</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">17</span>            <span class="n">data</span><span class="p">[</span><span class="n">resource</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">18</span>
</span><span class="hll"><span class="linenos">19</span>    <span class="k">return</span> <span class="n">data</span>
</span><span class="linenos">20</span>
<span class="linenos">21</span>
<span class="hll"><span class="linenos">22</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
</span><span class="hll"><span class="linenos">23</span><span class="k">def</span> <span class="nf">users</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">24</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a fresh set of data for each function.&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">25</span>    <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">])</span>
</span><span class="linenos">26</span>
<span class="linenos">27</span>
<span class="hll"><span class="linenos">28</span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">()</span>
</span><span class="hll"><span class="linenos">29</span><span class="k">def</span> <span class="nf">todos</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">30</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a fresh set of data for each function.&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">31</span>    <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">])</span>
</span><span class="linenos">32</span>
<span class="linenos">33</span>
<span class="hll"><span class="linenos">34</span><span class="k">def</span> <span class="nf">test_user</span><span class="p">(</span><span class="n">users</span><span class="p">):</span>
</span><span class="linenos">35</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the first user was loaded from the users.json file.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">36</span>    <span class="n">user</span> <span class="o">=</span> <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">37</span>
<span class="linenos">38</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">39</span>    <span class="k">assert</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Leanne Graham&quot;</span>
<span class="linenos">40</span>
<span class="linenos">41</span>
<span class="hll"><span class="linenos">42</span><span class="k">def</span> <span class="nf">test_todo</span><span class="p">(</span><span class="n">todos</span><span class="p">):</span>
</span><span class="linenos">43</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the first todo was loaded from the todos.json file.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">44</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">todos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">45</span>
<span class="linenos">46</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">47</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;delectus aut autem&quot;</span>
<span class="linenos">48</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
<span class="linenos">49</span>
<span class="linenos">50</span>
<span class="hll"><span class="linenos">51</span><span class="k">def</span> <span class="nf">test_modify_state</span><span class="p">(</span><span class="n">todos</span><span class="p">):</span>
</span><span class="linenos">52</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Change the data&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">53</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">todos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">54</span>    <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">55</span>
<span class="linenos">56</span>    <span class="k">assert</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
<span class="linenos">57</span>
<span class="linenos">58</span>
<span class="hll"><span class="linenos">59</span><span class="k">def</span> <span class="nf">test_check_modified_state</span><span class="p">(</span><span class="n">todos</span><span class="p">):</span>
</span><span class="linenos">60</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the same data that was modified above.&quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">61</span>    <span class="n">todo</span> <span class="o">=</span> <span class="n">todos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="linenos">62</span>
<span class="linenos">63</span>    <span class="k">assert</span> <span class="ow">not</span> <span class="n">todo</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="reference">
<h2><a class="toc-backref" href="#contents">Reference</a><a class="headerlink" href="#reference" title="Permalink to this headline">#</a></h2>
</section>
<section id="glossary">
<h2><a class="toc-backref" href="#contents">Glossary</a><a class="headerlink" href="#glossary" title="Permalink to this headline">#</a></h2>
<section id="glossary-testing">
<h3><a class="toc-backref" href="#contents">Testing</a><a class="headerlink" href="#glossary-testing" title="Permalink to this headline">#</a></h3>
<dl class="glossary">
<dt id="term-test-suite">test suite<a class="headerlink" href="#term-test-suite" title="Permalink to this term">#</a></dt><dd><p>A collection of tests.</p>
</dd>
<dt id="term-test-case">test case<a class="headerlink" href="#term-test-case" title="Permalink to this term">#</a></dt><dd><p>In testing a test case is the individual unit of testing that checks for a
specific response to a particular set of inputs.</p>
<p>In Pytest parametrization each combination of test and data (or parameters)
is a test case. Each set of parameters is stored in a list of tuples passed
as the second argument to <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.parametrize</span></code>.</p>
</dd>
<dt id="term-fixture">fixture<a class="headerlink" href="#term-fixture" title="Permalink to this term">#</a></dt><dt id="term-fixtures">fixtures<a class="headerlink" href="#term-fixtures" title="Permalink to this term">#</a></dt><dd><p>In a test suite the fixtures provide a defined, reliable and consistent
shared context for the tests. This includes any preperation that is required
for one or more tests to run and may include things like setup and teardown
such as creating a database or temporary directories; environment setup like
configuration; or data to be used in individual test cases.</p>
<p>In Pytest fixtures are defined as functions marked with the <code class="docutils literal notranslate"><span class="pre">&#64;pytest.fixture</span></code>
decorator that may or may not return fixture data.</p>
<p>When programmers refer to “a fixture” it usually refers to a single record of
test data–for example, a single user record.</p>
</dd>
<dt id="term-fixture-scope">fixture scope<a class="headerlink" href="#term-fixture-scope" title="Permalink to this term">#</a></dt><dd><p>In Pytest the scope of a fixture determines the lifespan of a fixture. That
is, at what level a fixture should be shared between tests before it is
destroyed, and thus a new instance created the next time it is requested.</p>
<p>The default is that a fixture should exist only for the scope of a single
test function. A fixture scope may also be for the class, module, package or
session.</p>
</dd>
<dt id="term-hello-world">hello world<a class="headerlink" href="#term-hello-world" title="Permalink to this term">#</a></dt><dt id="term-Hello-World">Hello World<a class="headerlink" href="#term-Hello-World" title="Permalink to this term">#</a></dt><dt id="term-0">Hello World!<a class="headerlink" href="#term-0" title="Permalink to this term">#</a></dt><dd><p>A small piece of code used to demonstrate the most basic syntax and setup of
a particular language or tool. Most a program to print “Hello World!”</p>
</dd>
</dl>
</section>
</section>
<section id="see-also">
<h2><a class="toc-backref" href="#contents">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">#</a></h2>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://realpython.com/pytest-python-testing/">Effective Python Testing With Pytest</a></p></li>
<li><p><a class="reference external" href="https://semaphoreci.com/community/tutorials/testing-python-applications-with-pytest">Testing Python Applications with Pytest</a></p></li>
</ul>
</div>
<hr class="docutils" />
<!--

TODO:
-----

- [x] filenames and test names
- [x] skipping tests (`@pytest.mark.skip()`, `pytest.skip()`, `@pytest.mark.xfail()`)
- [x] exceptions
- [x] capsys
- [x] params
- [ ] fixtures
    - [x] param fixtures
    - [ ] fixture fixtures
    - [ ] `--fixtures` flag
    - [ ] fixture factories
    - [ ] fixture and params
    - [ ] builtin fixtures
- [ ] conftest.py
- [x] setup and teardown
- [ ] mocks and stubs
- [ ] temp files/directories
- [ ] vscode
- [ ] testing with debugger
  - [ ] [pdb++](https://github.com/pdbpp/pdbpp)
  - [ ] [pdbr](https://pypi.org/project/pdbr/)

--></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "alissa-huskey/python-class",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./practices/testing"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="intro.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Introduction to Tests</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../debugging.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Using a Debugger</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>